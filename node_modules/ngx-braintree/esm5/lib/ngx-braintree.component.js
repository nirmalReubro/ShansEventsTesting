/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { ChangeDetectorRef, Component, EventEmitter, Input, Output } from '@angular/core';
import { NgxBraintreeService } from './ngx-braintree.service';
import { ConfigureDropinService } from './configure-dropin.service';
var NgxBraintreeComponent = /** @class */ (function () {
    function NgxBraintreeComponent(service, configureDropinService, changeDetectorRef) {
        var _this = this;
        this.service = service;
        this.configureDropinService = configureDropinService;
        this.changeDetectorRef = changeDetectorRef;
        this.dropinLoaded = new EventEmitter();
        this.paymentStatus = new EventEmitter();
        this.payButtonStatus = new EventEmitter();
        // Optional inputs
        this.buttonText = 'Buy';
        this.allowChoose = false;
        this.showCardholderName = false;
        this.enablePaypalCheckout = false;
        this.enablePaypalVault = false;
        this.hideLoader = false;
        this.showDropinUI = true;
        this.showPayButton = false;
        this.clientTokenNotReceived = false;
        this.dropinConfig = {};
        this.enablePayButton = false;
        this.showLoader = true;
        this.loaderImage = "data:image/gif;base64,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";
        this.getClientToken = function () { return _this.service.getClientToken(_this.clientTokenURL); };
        this.createPurchase = function (nonce, chargeAmount) { return _this.service.createPurchase(_this.createPurchaseURL, nonce, chargeAmount); };
    }
    /**
     * @return {?}
     */
    NgxBraintreeComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (this.enablePaypalCheckout && this.enablePaypalVault) {
            this.errorMessage = 'Please make sure either Paypal Checkout or Paypal Vault is set to true. Both cannot be true at the same time.';
        }
        else if (this.enablePaypalCheckout && !this.currency) {
            // user should provide currency for paypal checkout.
            this.errorMessage = 'Please provide the currency for Paypal Checkout. ex: [currency]="\'USD\'"';
        }
        else {
            this.generateDropInUI();
        }
    };
    /**
     * @return {?}
     */
    NgxBraintreeComponent.prototype.generateDropInUI = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.getClientToken()
            .subscribe(function (clientToken) {
            if (!clientToken) {
                _this.clientTokenNotReceived = true;
                _this.showLoader = false;
            }
            else {
                _this.clientToken = clientToken;
                _this.clientTokenNotReceived = false;
                _this.interval = setInterval(function () {
                    _this.createDropin();
                }, 0);
            }
        }, function (error) {
            _this.clientTokenNotReceived = true;
            _this.showLoader = false;
            console.error("Client token not received.\n        Please make sure your braintree server api is configured properly, running and accessible.");
        });
    };
    /**
     * @return {?}
     */
    NgxBraintreeComponent.prototype.createDropin = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (typeof braintree !== 'undefined') {
            this.dropinConfig.authorization = this.clientToken;
            this.dropinConfig.container = '#dropin-container';
            if (this.showCardholderName) {
                this.configureDropinService.configureCardHolderName(this.dropinConfig);
            }
            if (this.enablePaypalCheckout) {
                this.configureDropinService.configurePaypalCheckout(this.dropinConfig, this.chargeAmount, this.currency);
            }
            if (this.enablePaypalVault) {
                this.configureDropinService.configurePaypalVault(this.dropinConfig);
            }
            if (this.locale) {
                this.configureDropinService.configureLocale(this.dropinConfig, this.locale);
            }
            braintree.dropin.create(this.dropinConfig, function (createErr, instance) {
                if (createErr) {
                    console.error(createErr);
                    _this.errorMessage = createErr;
                    _this.showLoader = false;
                    return;
                }
                _this.dropinLoaded.emit();
                _this.showPayButton = true;
                _this.showLoader = false;
                _this.instance = instance;
                if (_this.instance.isPaymentMethodRequestable()) {
                    _this.enablePayButton = true;
                    _this.payButtonStatus.emit(_this.enablePayButton);
                }
                _this.instance.on('paymentMethodRequestable', function (event) {
                    _this.enablePayButton = true;
                    _this.payButtonStatus.emit(_this.enablePayButton);
                    _this.changeDetectorRef.detectChanges();
                });
                _this.instance.on('noPaymentMethodRequestable', function (event) {
                    _this.enablePayButton = false;
                    _this.payButtonStatus.emit(_this.enablePayButton);
                    _this.changeDetectorRef.detectChanges();
                });
            });
            clearInterval(this.interval);
        }
    };
    /**
     * @return {?}
     */
    NgxBraintreeComponent.prototype.pay = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.instance) {
            this.instance.requestPaymentMethod(function (err, payload) {
                if (err) {
                    console.error(err);
                    _this.errorMessage = err;
                    return;
                }
                else {
                    _this.errorMessage = null;
                }
                if (!_this.allowChoose) {
                    // process immediately after tokenization
                    _this.nonce = payload.nonce;
                    _this.showDropinUI = false;
                    _this.showLoader = true;
                    _this.confirmPay();
                }
                else if (_this.instance.isPaymentMethodRequestable()) {
                    _this.nonce = payload.nonce;
                    _this.showDropinUI = false;
                    _this.showLoader = true;
                    _this.confirmPay();
                }
            });
        }
    };
    /**
     * @return {?}
     */
    NgxBraintreeComponent.prototype.confirmPay = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.showDropinUI = false;
        this.createPurchase(this.nonce, this.chargeAmount)
            .subscribe(function (status) {
            if (status.errors) {
                _this.errorMessage = status.message;
                _this.showDropinUI = true;
                _this.generateDropInUI();
            }
            _this.paymentStatus.emit(status);
            _this.showLoader = false;
        });
    };
    NgxBraintreeComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ngx-braintree',
                    template: "\n    <div *ngIf=\"showLoader\" style=\"position:relative; text-align: center;\">\n      <div #loaderRef><ng-content select=\".ngxLoader\" *ngIf=\"!hideLoader\"></ng-content></div>\n      <img *ngIf=\"loaderRef.children.length === 0 && !hideLoader\" src=\"{{loaderImage}}\" />\n    </div>\n    <div class=\"error\" *ngIf=\"errorMessage\">Error</div>\n    <div class=\"errorInfoDiv\" *ngIf=\"errorMessage\">{{errorMessage}}</div>\n    <div *ngIf=\"showDropinUI && clientToken\" ngxBraintreeDirective>\n      <div id=\"dropin-container\"></div>\n\n      <div #buttonsRef><ng-content select=\".ngxButtons\"></ng-content></div>\n\n      <!-- No buttons are projected and no styles sent, so the default button (Purchase) with default styles will be used. -->\n      <div *ngIf=\"(buttonsRef.children.length === 0 && !enabledStyle && !disabledStyle)\">\n          <button [disabled]=\"!enablePayButton\" *ngIf=\"showPayButton\" (click)=\"pay()\">\n            {{buttonText}}\n          </button>\n      </div>\n\n      <!-- No buttons are projected but styles are sent for the default button (Purchase). So, the sent styles will be used. -->\n      <div *ngIf=\"(buttonsRef.children.length === 0 && enabledStyle && disabledStyle)\">\n          <button [disabled]=\"!enablePayButton\" [ngStyle]=\"enablePayButton ? enabledStyle : disabledStyle\" *ngIf=\"showPayButton\" (click)=\"pay()\">\n            {{buttonText}}\n          </button>\n      </div>\n\n      <!-- Buttons are projected with no styles. -->\n      <!-- This is being handled via the directive. No styles will be applied as the user hasn't sent any styles. Default styles will not be applied. -->\n\n      <!-- Buttons are projected with styles -->\n      <!-- This is being handled via the directive. -->\n\n      \n    </div>\n    <div *ngIf=\"clientTokenNotReceived\">\n      <div class=\"error\">Error! Client token not received.</div>\n      <div class=\"errorInfoDiv\">Make sure your clientTokenURL's JSON response is as shown below:\n        <pre>{{ '{' }}\"token\":\"braintree_client_token_generated_on_your_server\"{{'}'}}</pre>\n      </div>\n    </div>",
                    styles: ["\n    button {\n      background-color: #009CDE;\n      color: #ffffff;\n      border: none;\n      border-radius: 4px;\n      height: 40px;\n      line-height: 40px;\n      font-size: 16px;\n      cursor: pointer;\n    }\n\n    button:disabled {\n      background-color: lightblue;\n      color: #ffffff;\n      border: none;\n      border-radius: 4px;\n      height: 40px;\n      line-height: 40px;\n      font-size: 16px;\n      cursor: not-allowed;\n    }\n\n    .error {\n      color: #ffffff;\n      background-color: red;\n      font-weight: bolder;\n      font-family: monospace;\n      border: none;\n      border-radius: 4px;\n      height: 30px;\n      line-height: 30px;\n    }\n\n    .errorInfoDiv {\n      border-bottom: 2px solid red;\n      border-left: 2px solid red;\n      border-right: 2px solid red;\n      font-family: monospace;\n    }"]
                },] },
    ];
    /** @nocollapse */
    NgxBraintreeComponent.ctorParameters = function () { return [
        { type: NgxBraintreeService, },
        { type: ConfigureDropinService, },
        { type: ChangeDetectorRef, },
    ]; };
    NgxBraintreeComponent.propDecorators = {
        "dropinLoaded": [{ type: Output },],
        "paymentStatus": [{ type: Output },],
        "payButtonStatus": [{ type: Output },],
        "clientTokenURL": [{ type: Input },],
        "createPurchaseURL": [{ type: Input },],
        "chargeAmount": [{ type: Input },],
        "buttonText": [{ type: Input },],
        "allowChoose": [{ type: Input },],
        "showCardholderName": [{ type: Input },],
        "enablePaypalCheckout": [{ type: Input },],
        "enablePaypalVault": [{ type: Input },],
        "currency": [{ type: Input },],
        "locale": [{ type: Input },],
        "enabledStyle": [{ type: Input },],
        "disabledStyle": [{ type: Input },],
        "hideLoader": [{ type: Input },],
        "getClientToken": [{ type: Input },],
        "createPurchase": [{ type: Input },],
    };
    return NgxBraintreeComponent;
}());
export { NgxBraintreeComponent };
function NgxBraintreeComponent_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    NgxBraintreeComponent.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    NgxBraintreeComponent.ctorParameters;
    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */
    NgxBraintreeComponent.propDecorators;
    /** @type {?} */
    NgxBraintreeComponent.prototype.dropinLoaded;
    /** @type {?} */
    NgxBraintreeComponent.prototype.paymentStatus;
    /** @type {?} */
    NgxBraintreeComponent.prototype.payButtonStatus;
    /** @type {?} */
    NgxBraintreeComponent.prototype.clientTokenURL;
    /** @type {?} */
    NgxBraintreeComponent.prototype.createPurchaseURL;
    /** @type {?} */
    NgxBraintreeComponent.prototype.chargeAmount;
    /** @type {?} */
    NgxBraintreeComponent.prototype.buttonText;
    /** @type {?} */
    NgxBraintreeComponent.prototype.allowChoose;
    /** @type {?} */
    NgxBraintreeComponent.prototype.showCardholderName;
    /** @type {?} */
    NgxBraintreeComponent.prototype.enablePaypalCheckout;
    /** @type {?} */
    NgxBraintreeComponent.prototype.enablePaypalVault;
    /** @type {?} */
    NgxBraintreeComponent.prototype.currency;
    /** @type {?} */
    NgxBraintreeComponent.prototype.locale;
    /** @type {?} */
    NgxBraintreeComponent.prototype.enabledStyle;
    /** @type {?} */
    NgxBraintreeComponent.prototype.disabledStyle;
    /** @type {?} */
    NgxBraintreeComponent.prototype.hideLoader;
    /** @type {?} */
    NgxBraintreeComponent.prototype.clientToken;
    /** @type {?} */
    NgxBraintreeComponent.prototype.nonce;
    /** @type {?} */
    NgxBraintreeComponent.prototype.showDropinUI;
    /** @type {?} */
    NgxBraintreeComponent.prototype.errorMessage;
    /** @type {?} */
    NgxBraintreeComponent.prototype.showPayButton;
    /** @type {?} */
    NgxBraintreeComponent.prototype.clientTokenNotReceived;
    /** @type {?} */
    NgxBraintreeComponent.prototype.interval;
    /** @type {?} */
    NgxBraintreeComponent.prototype.instance;
    /** @type {?} */
    NgxBraintreeComponent.prototype.dropinConfig;
    /** @type {?} */
    NgxBraintreeComponent.prototype.enablePayButton;
    /** @type {?} */
    NgxBraintreeComponent.prototype.showLoader;
    /** @type {?} */
    NgxBraintreeComponent.prototype.loaderImage;
    /** @type {?} */
    NgxBraintreeComponent.prototype.getClientToken;
    /** @type {?} */
    NgxBraintreeComponent.prototype.createPurchase;
    /** @type {?} */
    NgxBraintreeComponent.prototype.service;
    /** @type {?} */
    NgxBraintreeComponent.prototype.configureDropinService;
    /** @type {?} */
    NgxBraintreeComponent.prototype.changeDetectorRef;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWJyYWludHJlZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtYnJhaW50cmVlLyIsInNvdXJjZXMiOlsibGliL25neC1icmFpbnRyZWUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQVUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2xHLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzlELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDOztJQTZIbEUsK0JBQ1UsU0FDQSx3QkFDQTtRQUhWLGlCQUlDO1FBSFMsWUFBTyxHQUFQLE9BQU87UUFDUCwyQkFBc0IsR0FBdEIsc0JBQXNCO1FBQ3RCLHNCQUFpQixHQUFqQixpQkFBaUI7NEJBeENpQixJQUFJLFlBQVksRUFBTzs2QkFDdEIsSUFBSSxZQUFZLEVBQU87K0JBQ3JCLElBQUksWUFBWSxFQUFPOzswQkFPaEQsS0FBSzsyQkFDSixLQUFLO2tDQUNFLEtBQUs7b0NBQ0gsS0FBSztpQ0FDUixLQUFLOzBCQUtaLEtBQUs7NEJBSVosSUFBSTs2QkFHSCxLQUFLO3NDQUNJLEtBQUs7NEJBR1YsRUFBRTsrQkFDSixLQUFLOzBCQUNWLElBQUk7MkJBQ0gsNGdUQUE0Z1Q7OEJBRXQvUyxjQUFNLE9BQUEsS0FBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsS0FBSSxDQUFDLGNBQWMsQ0FBQyxFQUFoRCxDQUFnRDs4QkFDdEQsVUFBQyxLQUFLLEVBQUUsWUFBWSxJQUFLLE9BQUEsS0FBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsS0FBSSxDQUFDLGlCQUFpQixFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsRUFBeEUsQ0FBd0U7S0FNcEk7Ozs7SUFFRCx3Q0FBUTs7O0lBQVI7UUFDRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztZQUN4RCxJQUFJLENBQUMsWUFBWSxHQUFHLCtHQUErRyxDQUFDO1NBQ3JJO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDOztZQUN2RCxJQUFJLENBQUMsWUFBWSxHQUFHLDJFQUEyRSxDQUFDO1NBQ2pHO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUN6QjtLQUNGOzs7O0lBRUQsZ0RBQWdCOzs7SUFBaEI7UUFBQSxpQkFtQkM7UUFsQkMsSUFBSSxDQUFDLGNBQWMsRUFBRTthQUNsQixTQUFTLENBQUMsVUFBQyxXQUFtQjtZQUM3QixFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEtBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUM7Z0JBQ25DLEtBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO2FBQ3pCO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sS0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7Z0JBQy9CLEtBQUksQ0FBQyxzQkFBc0IsR0FBRyxLQUFLLENBQUM7Z0JBQ3BDLEtBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxDQUFDO29CQUMxQixLQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7aUJBQ3JCLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDUDtTQUNGLEVBQUUsVUFBQyxLQUFLO1lBQ1AsS0FBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQztZQUNuQyxLQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztZQUN4QixPQUFPLENBQUMsS0FBSyxDQUFDLGdJQUM2RSxDQUFDLENBQUM7U0FDOUYsQ0FBQyxDQUFDO0tBQ047Ozs7SUFFRCw0Q0FBWTs7O0lBQVo7UUFBQSxpQkE4Q0M7UUE3Q0MsRUFBRSxDQUFDLENBQUMsT0FBTyxTQUFTLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQ25ELElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxHQUFHLG1CQUFtQixDQUFDO1lBRWxELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7YUFDeEU7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO2dCQUM5QixJQUFJLENBQUMsc0JBQXNCLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUMxRztZQUNELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7Z0JBQzNCLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7YUFDckU7WUFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDaEIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUM3RTtZQUVELFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsVUFBQyxTQUFTLEVBQUUsUUFBUTtnQkFDN0QsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFDZCxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUN6QixLQUFJLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztvQkFDOUIsS0FBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7b0JBQ3hCLE1BQU0sQ0FBQztpQkFDUjtnQkFDRCxLQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUN6QixLQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztnQkFDMUIsS0FBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Z0JBQ3hCLEtBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO2dCQUN6QixFQUFFLENBQUMsQ0FBQyxLQUFJLENBQUMsUUFBUSxDQUFDLDBCQUEwQixFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUMvQyxLQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztvQkFDNUIsS0FBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2lCQUNqRDtnQkFDRCxLQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxVQUFDLEtBQUs7b0JBQ2pELEtBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO29CQUM1QixLQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7b0JBQ2hELEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQztpQkFDeEMsQ0FBQyxDQUFDO2dCQUNILEtBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLDRCQUE0QixFQUFFLFVBQUMsS0FBSztvQkFDbkQsS0FBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7b0JBQzdCLEtBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztvQkFDaEQsS0FBSSxDQUFDLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO2lCQUN4QyxDQUFDLENBQUM7YUFDSixDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzlCO0tBQ0Y7Ozs7SUFFRCxtQ0FBRzs7O0lBQUg7UUFBQSxpQkF1QkM7UUF0QkMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxVQUFDLEdBQUcsRUFBRSxPQUFPO2dCQUM5QyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNSLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ25CLEtBQUksQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDO29CQUN4QixNQUFNLENBQUM7aUJBQ1I7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ04sS0FBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7aUJBQzFCO2dCQUNELEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7O29CQUN0QixLQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7b0JBQzNCLEtBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO29CQUMxQixLQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztvQkFDdkIsS0FBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2lCQUNuQjtnQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDdEQsS0FBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO29CQUMzQixLQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztvQkFDMUIsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7b0JBQ3ZCLEtBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztpQkFDbkI7YUFDRixDQUFDLENBQUM7U0FDSjtLQUNGOzs7O0lBRUQsMENBQVU7OztJQUFWO1FBQUEsaUJBWUM7UUFYQyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQzthQUMvQyxTQUFTLENBQUMsVUFBQyxNQUFXO1lBQ3JCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixLQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7Z0JBQ25DLEtBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO2dCQUN6QixLQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQzthQUN6QjtZQUNELEtBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hDLEtBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1NBQ3pCLENBQUMsQ0FBQztLQUNOOztnQkFuUEYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxlQUFlO29CQUN6QixRQUFRLEVBQUUsNGtFQXVDRDtvQkFDVCxNQUFNLEVBQUUsQ0FBQyw0MUJBdUNMLENBQUM7aUJBQ047Ozs7Z0JBdkZRLG1CQUFtQjtnQkFDbkIsc0JBQXNCO2dCQUZ0QixpQkFBaUI7OztpQ0EwRnZCLE1BQU07a0NBQ04sTUFBTTtvQ0FDTixNQUFNO21DQUVOLEtBQUs7c0NBQ0wsS0FBSztpQ0FDTCxLQUFLOytCQUdMLEtBQUs7Z0NBQ0wsS0FBSzt1Q0FDTCxLQUFLO3lDQUNMLEtBQUs7c0NBQ0wsS0FBSzs2QkFDTCxLQUFLOzJCQUNMLEtBQUs7aUNBQ0wsS0FBSztrQ0FDTCxLQUFLOytCQUNMLEtBQUs7bUNBZ0JMLEtBQUs7bUNBQ0wsS0FBSzs7Z0NBN0hSOztTQXlGYSxxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBOZ3hCcmFpbnRyZWVTZXJ2aWNlIH0gZnJvbSAnLi9uZ3gtYnJhaW50cmVlLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb25maWd1cmVEcm9waW5TZXJ2aWNlIH0gZnJvbSAnLi9jb25maWd1cmUtZHJvcGluLnNlcnZpY2UnO1xyXG5cclxuZGVjbGFyZSB2YXIgYnJhaW50cmVlOiBhbnk7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ25neC1icmFpbnRyZWUnLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2ICpuZ0lmPVwic2hvd0xvYWRlclwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cclxuICAgICAgPGRpdiAjbG9hZGVyUmVmPjxuZy1jb250ZW50IHNlbGVjdD1cIi5uZ3hMb2FkZXJcIiAqbmdJZj1cIiFoaWRlTG9hZGVyXCI+PC9uZy1jb250ZW50PjwvZGl2PlxyXG4gICAgICA8aW1nICpuZ0lmPVwibG9hZGVyUmVmLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCAmJiAhaGlkZUxvYWRlclwiIHNyYz1cInt7bG9hZGVySW1hZ2V9fVwiIC8+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJlcnJvclwiICpuZ0lmPVwiZXJyb3JNZXNzYWdlXCI+RXJyb3I8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJlcnJvckluZm9EaXZcIiAqbmdJZj1cImVycm9yTWVzc2FnZVwiPnt7ZXJyb3JNZXNzYWdlfX08L2Rpdj5cclxuICAgIDxkaXYgKm5nSWY9XCJzaG93RHJvcGluVUkgJiYgY2xpZW50VG9rZW5cIiBuZ3hCcmFpbnRyZWVEaXJlY3RpdmU+XHJcbiAgICAgIDxkaXYgaWQ9XCJkcm9waW4tY29udGFpbmVyXCI+PC9kaXY+XHJcblxyXG4gICAgICA8ZGl2ICNidXR0b25zUmVmPjxuZy1jb250ZW50IHNlbGVjdD1cIi5uZ3hCdXR0b25zXCI+PC9uZy1jb250ZW50PjwvZGl2PlxyXG5cclxuICAgICAgPCEtLSBObyBidXR0b25zIGFyZSBwcm9qZWN0ZWQgYW5kIG5vIHN0eWxlcyBzZW50LCBzbyB0aGUgZGVmYXVsdCBidXR0b24gKFB1cmNoYXNlKSB3aXRoIGRlZmF1bHQgc3R5bGVzIHdpbGwgYmUgdXNlZC4gLS0+XHJcbiAgICAgIDxkaXYgKm5nSWY9XCIoYnV0dG9uc1JlZi5jaGlsZHJlbi5sZW5ndGggPT09IDAgJiYgIWVuYWJsZWRTdHlsZSAmJiAhZGlzYWJsZWRTdHlsZSlcIj5cclxuICAgICAgICAgIDxidXR0b24gW2Rpc2FibGVkXT1cIiFlbmFibGVQYXlCdXR0b25cIiAqbmdJZj1cInNob3dQYXlCdXR0b25cIiAoY2xpY2spPVwicGF5KClcIj5cclxuICAgICAgICAgICAge3tidXR0b25UZXh0fX1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDwhLS0gTm8gYnV0dG9ucyBhcmUgcHJvamVjdGVkIGJ1dCBzdHlsZXMgYXJlIHNlbnQgZm9yIHRoZSBkZWZhdWx0IGJ1dHRvbiAoUHVyY2hhc2UpLiBTbywgdGhlIHNlbnQgc3R5bGVzIHdpbGwgYmUgdXNlZC4gLS0+XHJcbiAgICAgIDxkaXYgKm5nSWY9XCIoYnV0dG9uc1JlZi5jaGlsZHJlbi5sZW5ndGggPT09IDAgJiYgZW5hYmxlZFN0eWxlICYmIGRpc2FibGVkU3R5bGUpXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIFtkaXNhYmxlZF09XCIhZW5hYmxlUGF5QnV0dG9uXCIgW25nU3R5bGVdPVwiZW5hYmxlUGF5QnV0dG9uID8gZW5hYmxlZFN0eWxlIDogZGlzYWJsZWRTdHlsZVwiICpuZ0lmPVwic2hvd1BheUJ1dHRvblwiIChjbGljayk9XCJwYXkoKVwiPlxyXG4gICAgICAgICAgICB7e2J1dHRvblRleHR9fVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPCEtLSBCdXR0b25zIGFyZSBwcm9qZWN0ZWQgd2l0aCBubyBzdHlsZXMuIC0tPlxyXG4gICAgICA8IS0tIFRoaXMgaXMgYmVpbmcgaGFuZGxlZCB2aWEgdGhlIGRpcmVjdGl2ZS4gTm8gc3R5bGVzIHdpbGwgYmUgYXBwbGllZCBhcyB0aGUgdXNlciBoYXNuJ3Qgc2VudCBhbnkgc3R5bGVzLiBEZWZhdWx0IHN0eWxlcyB3aWxsIG5vdCBiZSBhcHBsaWVkLiAtLT5cclxuXHJcbiAgICAgIDwhLS0gQnV0dG9ucyBhcmUgcHJvamVjdGVkIHdpdGggc3R5bGVzIC0tPlxyXG4gICAgICA8IS0tIFRoaXMgaXMgYmVpbmcgaGFuZGxlZCB2aWEgdGhlIGRpcmVjdGl2ZS4gLS0+XHJcblxyXG4gICAgICBcclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiAqbmdJZj1cImNsaWVudFRva2VuTm90UmVjZWl2ZWRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImVycm9yXCI+RXJyb3IhIENsaWVudCB0b2tlbiBub3QgcmVjZWl2ZWQuPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJlcnJvckluZm9EaXZcIj5NYWtlIHN1cmUgeW91ciBjbGllbnRUb2tlblVSTCdzIEpTT04gcmVzcG9uc2UgaXMgYXMgc2hvd24gYmVsb3c6XHJcbiAgICAgICAgPHByZT57eyAneycgfX1cInRva2VuXCI6XCJicmFpbnRyZWVfY2xpZW50X3Rva2VuX2dlbmVyYXRlZF9vbl95b3VyX3NlcnZlclwie3snfSd9fTwvcHJlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmAsXHJcbiAgc3R5bGVzOiBbYFxyXG4gICAgYnV0dG9uIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwOUNERTtcclxuICAgICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xyXG4gICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBidXR0b246ZGlzYWJsZWQge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XHJcbiAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICBsaW5lLWhlaWdodDogNDBweDtcclxuICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG4gICAgfVxyXG5cclxuICAgIC5lcnJvciB7XHJcbiAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5lcnJvckluZm9EaXYge1xyXG4gICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgcmVkO1xyXG4gICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHJlZDtcclxuICAgICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgcmVkO1xyXG4gICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgfWBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBOZ3hCcmFpbnRyZWVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBPdXRwdXQoKSBkcm9waW5Mb2FkZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHBheW1lbnRTdGF0dXM6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHBheUJ1dHRvblN0YXR1czogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgQElucHV0KCkgY2xpZW50VG9rZW5VUkw6IHN0cmluZztcclxuICBASW5wdXQoKSBjcmVhdGVQdXJjaGFzZVVSTDogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIGNoYXJnZUFtb3VudDogbnVtYmVyO1xyXG5cclxuICAvLyBPcHRpb25hbCBpbnB1dHNcclxuICBASW5wdXQoKSBidXR0b25UZXh0ID0gJ0J1eSc7IC8vIHRvIGNvbmZpZ3VyZSB0aGUgcGF5IGJ1dHRvbiB0ZXh0XHJcbiAgQElucHV0KCkgYWxsb3dDaG9vc2UgPSBmYWxzZTtcclxuICBASW5wdXQoKSBzaG93Q2FyZGhvbGRlck5hbWUgPSBmYWxzZTtcclxuICBASW5wdXQoKSBlbmFibGVQYXlwYWxDaGVja291dCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGVuYWJsZVBheXBhbFZhdWx0ID0gZmFsc2U7XHJcbiAgQElucHV0KCkgY3VycmVuY3k6IHN0cmluZztcclxuICBASW5wdXQoKSBsb2NhbGU6IHN0cmluZztcclxuICBASW5wdXQoKSBlbmFibGVkU3R5bGU6IGFueTtcclxuICBASW5wdXQoKSBkaXNhYmxlZFN0eWxlOiBhbnk7XHJcbiAgQElucHV0KCkgaGlkZUxvYWRlciA9IGZhbHNlO1xyXG5cclxuICBjbGllbnRUb2tlbjogc3RyaW5nO1xyXG4gIG5vbmNlOiBzdHJpbmc7XHJcbiAgc2hvd0Ryb3BpblVJID0gdHJ1ZTtcclxuICBlcnJvck1lc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgc2hvd1BheUJ1dHRvbiA9IGZhbHNlOyAvLyB0byBkaXNwbGF5IHRoZSBwYXkgYnV0dG9uIG9ubHkgYWZ0ZXIgdGhlIGRyb3BpbiBVSSBoYXMgcmVuZGVyZWQuXHJcbiAgY2xpZW50VG9rZW5Ob3RSZWNlaXZlZCA9IGZhbHNlOyAvLyB0byBzaG93IHRoZSBlcnJvciwgXCJFcnJvciEgQ2xpZW50IHRva2VuIG5vdCByZWNlaXZlZC5cIlxyXG4gIGludGVydmFsOiBhbnk7XHJcbiAgaW5zdGFuY2U6IGFueTtcclxuICBkcm9waW5Db25maWc6IGFueSA9IHt9O1xyXG4gIGVuYWJsZVBheUJ1dHRvbiA9IGZhbHNlO1xyXG4gIHNob3dMb2FkZXIgPSB0cnVlO1xyXG4gIGxvYWRlckltYWdlID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhvQUFVQU1JQUFIek83TlR1L0tUYTlLemU5UHorL0tUZTlQLy8vd0FBQUNIL0MwNUZWRk5EUVZCRk1pNHdBd0VBQUFBaCtRUUpCd0FHQUN3QUFBQUFvQUFVQUFBRC9taTYzUDR3eWttcnZUanJ6YnYvWUNpT1pHbWVhS3F1Yk91K2NDelBHeEVNUTBCSU5xN3p0OXd1MGhNQ2ZVTkk4VWNNTXBYTzVHTXBkVkNKQllBV01LZ3VDSUl0MTZzQWk3dks4Qlk5Vld2WlZ2YzRmU1liekdzNy9xMlh3eHNCWWxvQkVJR0NoQStHWW9nT2lsdU1nSUlBa0F5T2c0V1NsQXVXazVpSG5vc1FjbG9Db3BLbEQ2TUFxQTZxckEydXBvS3ZETEdwcDdKaXRBdTJEbG16dVZ1N0NyMnd1TGZBeUxyQnBNeXJ6c01HeFpXWm9JL1dsNG5WMnAvY29kN1g0Tm1OMitUZGNicDk2WFRDNnUzc3BPN3g4S3Z5OWZRQzl2bE5Bd0pQVXdFRUdHa2k4SitWZ0FPaEZMUlRCcUhCQmpZV0FwRklNQ0ZBaWpReWF0eklFckdqeDQ4Z1E0b2NTYktreVpNb1UycElBQUFoK1FRSkJ3QVNBQ3dBQUFBQW9BQVVBSVFFbXR5RXp1eE10dVRVN3Z3MHJ1UjB4dXowK3Z3VW91U3MzdlRrOHZ4OHp1eGN2dXpjOHZ3OHN1UjB5dXo4L3Z3Y3B1UzA0dlQvLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUYvcUFram1ScG5taXFybXpydm5Bc3ozUnQzM2l1NzN6djA0a0FnUkJJL0k3SXBNMUFBRGlmaTRkeVNxMk9ESWVuRm5Bd1dMOWdYbk9ySlp3ZWcwaGtJRTJoMVd6VmU5MUd6ZVB1TkYydXg5djdkV2VBZkhDQklneGtaQXdsRHdnQkNvOFJoaU1QRVpDUWtuYVdqd0daWjV1WWt5S1ZsNTJpRXFTY25pYXBvWnFscTR5Z3BpVUZpVnNPSlFNS3ZKY0RLTHU5dkw4bndjTEVKc2E5eUxyQ3c4RE9Dc3dreXMvRjBkTWoxZElsRGJkbEpRaVhCUUVGRVNpTzVPcm5KK25sNWV3bTd1dm83L1R0OXZEMTZ2cjQvT2I3N01VVDRlMmJFek1reEVIaWhBRGRRb1lPQTBpRTFMRGRRNG9SSndhb0tPL2l4b3dRTFVvTTJYRWtSaElPaXd3NnlVVU5FcjlzSW5ieDQzWnRKa3dKTXQvUlRLYkFKalNmTlhYZXpFbHVaek9nSXhBOXljTEZTWlpGSkZyUitzVEozS2xLVldORmpaRDFLbGVYV2lsOWhlZTFxeWF6Vk1GT0duTUxZUWtEZy9JVUlyUkhidDAvYyszNkVaUVg3MTIrZjY4d0pkTWxqT0hETkpnMGJTckFDK0xIa0ZzTWNEREVBZFRJbUROcjNzeTVzK2ZQb0VNZkRnRUFJZmtFQ1FjQUZ3QXNBQUFBQUtBQUZBQ0VCSnJjaE03c1JMYmt4T2IwTEs3azVQTDhGS0xrWk1Mc3RPTDBESjdjM1BMOFBMTGsvUDc4Zk1yc0JKN2NqTkwwVkw3c3hPcjBOSzdrNVBiOEhLYmt2T2IwZk03cy8vLy9BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJmN2dKWTVrYVo1b3FxNXM2NzV3TE05MGJkOTRydTk4Ny8rbHdrTWllVXlBeUtTU0ZCRTRISUlJaWtFQVdLOEh4bkxMdlZHdlY0S1d4REJZSFFBMDJqRHV1dCtyNmpsdEpaVGs0TG5keEZCVUtncHRKMzEvZ1NxRWdJSjhmb21IaklZcGlKQlRqNG9sa3BZWEEzTlhhQUJTSWdxZGRKNVdDcGNJRGFvTkNKa1hES21yclZPeHFyT0R0YXl1c0t1NnRMMjNmTG5CcU1DV0M2WEpBQXNqRFhSNWFnQU5KUW9XQWRiV3B5Y0tEZGdCRGRvbTNOZms0ZFRkNU9BbzQ5N21KTnplNnRzTjVObnI2TmJ5Sko3OG5RNGpDK1pFNnlTaFJDNWJLQkJZV0xVUVFjS0Z3QjR5WkNVeDRnbUZFeDFlaENpcllqZUtKWlE5QTVBQVlLbFJuc3NLa2xCWUQ2UUpCTi9TYVh3Wk05OU1nelcvM1Z5WjB5Vk9lallUOXR3NUFpWlFuU1lDbmlTbDhvSUZnWG5TVEh2WDY1dTdFZkJVTGJ3YTZ1TkhyaGV5ZnIwSGNTdFpyZnJPbFUxTGRlM1ZDaWpCVkJoUjRHUTBUKzVnWGV0R2pFd3FjbjFIOEFLODY2KzF3Q0lHSHk1OEZQRXJ3d0VjSzQ2Y0NZL0FQU09xTEEwenFKS2pRcTRTZTQ2a0FFRWowcUFkbVo3VU9UWHAxYnMwZ3hGenlRd3BPbXpnNk41dG9vS0FOQXZtRHJKc0JVSm8zc2lUVTdNZ2dZQUZzTXFqUzU5T3ZicjE2OWl6YTdjUkFnQWgrUVFKQndBYkFDd0FBQUFBb0FBVUFJUUVtdHlFenV4RXR1VEU1dlFzcnVUazh2eWszdlJzeHV3VW91UlV1dXowK3Z5MDR2UU1udHpjOHZ3OHN1Uzg0dlFFbnR5VTF2Uk11dXpFNnZRMHJ1VGs5dng4enV3Y3B1UmN2dXo4L3Z5ODV2VC8vLzhBQUFBQUFBQUFBQUFBQUFBRi91QW1qbVJwbm1pcXJtenJ2bkFzejNSdDMzaXU3M3p2LzdWQ2hFS0pGSURJWkU2aFlFMGtFSWhrZ01vUUFOanNJYVBzZWxrREJBU0EwRlFwMlN5QlM4b2dzdU14bWYydDF4TnBiT0owVGNzSkpYMTVjWUFuRFFNYURTeUhpWXVJaWl1TWtDcVNqbzJSanlrYUFIR2NXR1lrRTFpZGFSTWpEWENlZVpNaUdROFdzQllQZENVWkdyR3l0RzIzc2JOVnZMQytKN2E0d2liRXZib2p5TUhLRzIrRFpDVUNlWjVqQWlNQjFaMWpGaVVORmdIaHNLd2s0T1BpNWFldzR1a281KzBXNmlMdzQvTWI5ZTZHN1BZbUN0eDVtb3dBT0dnRU5WTFZLSlI0RlV2Y0FoUU1jVDA4RVRIV1JCTVZZVjFjaUVzanhJNFdOcExJR1BKWXREZ0M3RVhJR1dVTkFBT0RmbHFPVVVqaWxyZ0REaitHd3hsQTVJZ0ZPd1BrcE1pT3AwOFJRQVB3TEVrMGFFOFVTWmNlRmFNcUM0SVNEaERDY1pCTnF4OXY1dGdKUFhCa0gwK2xaVTJBRTJvQjV6MXdaOG0rQzNjendOdTJRdEhPWmV2MmhJRlVjUXlVR0FCWUZSVjZoVW1WYzRVM2dMRmFEOFk2ZHJhQk1jL0hiU0lyblZ6bDFXWEtyaVJqWHVaWjZHZ1JBbFppd1daQ2tKOUNJMXhYZy8zdHdZTjc1bXluVGRIQU51NVR1aGY1RnY1Zzk3dmhLaFpRUlhDMDhoVlNhMG9vb0FvUVFVbzcyTDB3WWFGQndtcFF4MlFEd0VBNXUvbnpMeG9FSUdJWHZmdjM4T1BMbjArL3Z2Mzc3ME1BQUNINUJBa0hBQnNBTEFBQUFBQ2dBQlFBaEFTYTNJVE83RVMyNU1UbTlDeXU1T1R5L0tUZTlHekc3QlNpNUZTNjdQVDYvTFRpOUF5ZTNOenkvRHl5NUx6aTlBU2UzSlRXOUV5NjdNVHE5RFN1NU9UMi9Iek83QnltNUZ5KzdQeisvTHptOVAvLy93QUFBQUFBQUFBQUFBQUFBQVgrNENhT1pHbWVhS3F1Yk91K2NDelBkRzNmZUs3dmZPLy93RkloUXFGRUNzR2swcVpRc0NZU0NFUXlRR1VJZ0t6MmtGbDZ2NmtCQWdKQWFLd1VyWmJRSldVUVdqSzUzQWJiYjQyQnBxRktxTE1KSjFocWN3UWxnMzl5aGlkNWV5eU5mQ3VRajNxUktwT1NsU29aR2hhZUZnOTFKQm9BY3FWWlp5UVRXYVpxRXlNTmNhZC9saUlaRDUrZ29tNmRuNkZXdlo2L0o1eTV3eWJGdnJzanljTExJZzJlQVJiVHRTTndpV1VsQW4rblpBSWpBZDJtWkJZbDBkUFRGdGF3MHRUcktOSHYxZkh1OUl6MjhQanoraWE0dVJZV0lHTTFTNHVURWVUR2plRFdxaHVGRXYvY0NUd1I4ZE5FZndBRG9xam82U0xFakI1SmNOUjRZa0c2QXdIc0FvVGNvQ0NibklNaTVoQTB4V0FoSVcrbkhvNTZoNUlrUm1vb1ZhSllBRFNsejQ5RmhaWk1lbFNrdEtBcm9VbFR4MjRESEpsYUVKUncwRENPZzNCZENaa2pJUzlsZ0FOSThBVTltOVlFdW1rb3EyNkl0aFp0UGFOeDY5VnRXK0tXaGFESFNCaVFKY2RBaVFHRVoxV0JscmlWTmIrQW4yMjRsUkpsWURlNElsdDVVRG5BWldhWlUzNjJ4Zm1zWjhuUUJqeVFLNExiSDNBbUVCRmFORUoyTjlybkhxeCtwSnR2UE4yc1lmWG12VnZTY0IwTHhwU0pPaGxMS3pZbEZDaFBpQURtbmV0S21yRFFJQ0dMZ0ZUSWJBUEFnQnE3K2ZPU0FoUUpFQnk5Ky9mdzQ4dWZUNysrL2ZzcVFnQUFJZmtFQ1FjQUd3QXNBQUFBQUtBQUZBQ0VCSnJjaE03c1JMYmt4T2IwTEs3azVQTDhwTjcwYk1ic0ZLTGtWTHJzOVByOHRPTDBESjdjM1BMOFBMTGt2T0wwQko3Y2xOYjBUTHJzeE9yME5LN2s1UGI4Zk03c0hLYmtYTDdzL1A3OHZPYjAvLy8vQUFBQUFBQUFBQUFBQUFBQUJmN2dKbzVrYVo1b3FxNXM2NzV3TE05MGJkOTRydTk4Ny8vQVdpRkNvVVFLd2FUU3BsQ3dKaElJUkRKQVpRaUFyUGFRV1hxL3FRRUNBa0JvckJTdGx0QWxaUkJhTXJuY0J0dFBqWUdtd2NydlZRbHFXUWtuV0dwekJDV0dnbktKZUhwOEszNlJLcE45a0pkL0tSa2FGcDRXRDNVbG5KK2dvaU1hQUhLcVdXY2tFMW1yYWhNakRYR3NncFFpR1ErbG9WYWRuNzhucE1Lbkk4V2V3eWJKcGlnTm5nRVcwcm9rME5QWTFTSndqR1VsQW9Lc1pBSWpBZUdyWkJZbDBOTFNGdG9pMSszdno5SFo5ZGpVK1BQd0c3MmxGaGFnK0ZkSzRLaFl1TFE0R1lIdTNBaHdzc0pSS0VFUW0wRVRGVDFkcEFndzRNQ09HMGxrOUhoaVFic0RBZXNDaEJ5eFlCcEthU3N6ZEpPelVNUWNoS3NZUER3a2p0VkVFcDJrb1NTSk1kckxsU0phQm5oSmxLUExsRWczS0dVYVZaNjdmdXlFQm9ESElLRVdCQ1VjUkl6am9OellRK3FzUlV0NUFBa2VDeStYdWpXUkZlN1dlbkhiMWt0cHR4OHZ1d0dXamVyMVV2QUlBemhaR1NneDRKYXNLdkVjOXdSUTdXL2hZN3Nlc0EyTWVZUGxsSWFSYVY3SzJRcGgwSjNqRFhqUXo5b0QxaXJBQ1NKbll0RWhSeU5zaDhPOTduWHJXcS9ucG1qZ3UwOXc0N0R2U0IxVEp1cVZ5V3hLS0dEZUVFRk41ZGlETkdHaFFVSVdBYTZZNlFhQUlYWDI4K2lmQlNoeU43Mzc5L0RqeTU5UHY3Nzk5eUVBQUNINUJBa0hBQnNBTEFBQUFBQ2dBQlFBaEFTYTNJVE83RVMyNU1UbTlDeXU1T1R5L0tUZTlHekc3QlNpNUZTNjdQVDYvTFRpOUF5ZTNOenkvRHl5NUx6aTlBU2UzSlRXOUV5NjdNVHE5RFN1NU9UMi9Iek83QnltNUZ5KzdQeisvTHptOVAvLy93QUFBQUFBQUFBQUFBQUFBQVgrNENhT1pHbWVhS3F1Yk91K2NDelBkRzNmZUs3dmZPLy93Q0NwRUtGUUlnV2hjamxUS0ZnVENRUWlHYUF5QklCMmU4Z3d2MkRUQUFFQklEUlh5blpMOEpJeWlHMjViSGFIZlkyQnBzSEs3L3Q2ZkNrSmExb0pKMWxyZEFRbGlZVnpqQ2QrZ2lxVGdIOHJsaWtaR2hhZUZnOTJKWnlmb0tKdm5aK2hKeG9BYzY1YWFDUVRXcTlyRXlNTmNyQ0ZsQ0laRDZXcko2U3FweVBGbnNNbXlhWW9EWjRCRnRLK0pORFQyTlc1MGRrbmNZOW1KUUtGc0dVQ0l3SGtyMlVXSmREUzBoYmFJdGZ3OHMvYzFQalkraWZCcFJZV29QaFhTcUEvZ0FHWjFlSzE1Y21JZGVwR2pMTkZqa0lKZ3RnTW1zRG9TZU5GaEI1SmNFeDRZZ0c4QXdIdkFvUWNzV0FhU21rclJmd0w4SEtsQW5CekhJcWdzL0FWQTRtS3lzR3lTS0tUTkpRa04wYXJpYUlselpSSlA3cE1HWE5EdlhqenJFNDdHaUFydEpjMGs1aGdRRkVMZ2hJT3l0WnlnRTZ0bkhiV29xVThJTmJFMTVSaDhVRkY2ZFVDV0xwWGdyMWNOa3B3U3NKdkhzd05nRmlFZ2FCbERKUVlzTXVXRlhxVmhRS29Cc3p2NFdPL0ZEOXRITm96WTlBYmdDMG1uV3ZBZzZ6V0hyenVJN3Z1aVhHRnpwbHdwQ2pTQ043a2ZMdVREVHRYYmRxek14Mi9FMk1CR1ROVnNXaHVVMExCYzRnSWRETGZIc1FKQ3cwU3RBaVF4UXc0QUF5b3VhdGZuNkpCQUNOZDJjdWZUNysrL2Z2NDgrc1hFZ0lBSWZrRUNRY0FHd0FzQUFBQUFLQUFGQUNFQkpyY2hNN3NSTGJreE9iMExLN2s1UEw4cE43MGJNYnNGS0xrVkxyczlQcjh0T0wwREo3YzNQTDhQTExrdk9MMEJKN2NsTmIwVExyc3hPcjBOSzdrNVBiOGZNN3NIS2JrWEw3cy9QNzh2T2IwLy8vL0FBQUFBQUFBQUFBQUFBQUFCZjdnSm81a2FaNW9xcTVzNjc1d0xNOTBiZDk0cnU5ODcvL0FJSzBRb1ZBaUJhRnlPVk1vV0JNSkJDSVpvRElFZ0haN3lEQy9ZTk1BQVFFZ05GZktka3Z3a2pLSWJibHNkb2RkallHbXdjcnYrM3A4SzM2Q0tBbHJXZ2tuV1d0MEJDV01pSE9QSjRTQWY0T0JLaGthRnA0V0QzWWxuSitnb20rZG42RlhxWjZySmhvQWM3SmFhQ1FUV3JOckV5TU5jclNJaFNJWkQ2V3ZKcVNxcHlQSnJzc2lEWjRCRnRQQ0pOSFUyZGE5MHRvbzJOUFZKM0dTWmlVQ2lMUmxBaU1CNmJObEZpWFI0WjdiME4zaWxma1c5eHZGcFN3c1FBR3cxTUFUQlQ4ZE5KSFEwMEptdVlCdGVUSUMzcnNSNkhTbG8xQWk0YlNISkJvS0pCaHc1SWtGNGU0T0JBZ0Fjc1FDYWlvL2tvUzVzcVdJbHdGaW1ueFRiZzVGRVhRaXptS0FzWkU2V2h4SmRKcW1jbWRIYVRGdGJzQ3BVeXE0YWYyK1VXTWF3RiswbURtVDdGdHBRZVU5QmhLM0lDamhRS01jQiszY05wSjNUZHJLQTJKTmZGMFpWaXRaczFlS3hUdzJTdkJLd204ZTNBMkFtSmxoeHM4TUNLVmxvTVNBWDdxc1FNTjhGSUExWW1VUFA5dEFiSEhqWVk5UDl4cnd3TisxQjYzN3dNNmJvZ0ZzMXh2UUlXSm5JbElqU2lOOHB3TSs3N2JzQjdTL0diOFRaQUVaTTFLeGRHNVRRc0Z6aXdoK010OGV4QWtMRFJLMENMQ0ZURGdBREtPNXExOWZPNENScnV6ank1OVB2Nzc5Ky9qenl3Z0JBQ0g1QkFrSEFCc0FMQUFBQUFDZ0FCUUFoQVNhM0lUTzdFUzI1TVRtOUN5dTVPVHkvS1RlOUd6RzdCU2k1RlM2N1BUNi9MVGk5QXllM056eS9EeXk1THppOUFTZTNKVFc5RXk2N01UcTlEU3U1T1QyL0h6TzdCeW01RnkrN1B6Ky9Mem05UC8vL3dBQUFBQUFBQUFBQUFBQUFBWCs0Q2FPWkdtZWFLcXViT3UrY0N6UGRHM2ZlSzd2Zk8vL3dLQlFWSWhRS0pIQ2NNbUVLUlNzaVFRQ2tReFFHUUpneXoxa211RHdhSUNBQUJBYUxJWExKWHhKR1FUWGJENi9tNDJCcHNISzcvdDZmQ3QrZ2lxRUtnbHNXd2tuV214MUJDV09pblNSSjRlRGdTb1pHaGFlRmc5M0paeWZvS0p3bloraFdLbWVxeWVrcXFjaUdnQjB0bHRwSkJOYnQyd1RJdzF6dUlxRkloa1BwYThtc2E2eklnMmVBUmJUeGlUUjFObld3ZExhS05qVDFkL2Q0aVp5bEdjbEFvcTRaZ0lqQWV5M1poWWwwZUdlMjlEa0Z2b2J5YVVzTEVBQnNOVEFFd1UvSFRTUjBOUENFZzBGTXV0RmpBdVVFZlBralZqbml4MEZpS1dtUFNRUmNlU0lCZUh1RGdRSVlGTEVBbW9xUlJLVUZyUGxocGNCWWtwRVNIT2xTUVhvNkZ3VVVZZmlMUVliSDdYRDlaRkVwMmtxZHpMc3lYSWN0V245eHEyMG9OSmZ0Smc1bFZ5NnlqV0ExN0lyRDRndHdhRGpGZ1FsSExqdDVRRGUzRG4xcmtsTHU5WWUyckJZa3NWY05rcndTc0p3SHFRTmdIZ0VNclNOanluT3lmaVpBYVZtREpRWU1NelhGV2lkbHdLdzluandzdzNJRmtjT051Q0J2MnNQWFBlSjNmZGI3TmZCYUt0WXAraWRpVW1QTEkwQXprNjR2ZHV6SDlRV3cveGttVE0yczRoMlUwTEI4NHdJaGpiZi91TUpDdzBTdGdqUXhZdzRBQXludWF0ZmI2SkJnQ05tMmN1ZlQ3KysvZnY0ODhzUEFRQWgrUVFKQndBYkFDd0FBQUFBb0FBVUFJUUVtdHlFenV4RXR1VEU1dlFzcnVUazh2eWszdlJzeHV3VW91UlV1dXowK3Z5MDR2UU1udHpjOHZ3OHN1Uzg0dlFFbnR5VTF2Uk11dXpFNnZRMHJ1VGs5dng4enV3Y3B1UmN2dXo4L3Z5ODV2VC8vLzhBQUFBQUFBQUFBQUFBQUFBRi91QW1qbVJwbm1pcXJtenJ2bkFzejNSdDMzaXU3M3p2LzhDZ1VGYUlVQ2lSd25ESmhDa1VySWtFQXBFTVVCa0NZTXM5WkpyZzhHaUFnQUFRR2l5Rnl5VjhTUmtFMTJ3K3YyMk5nYWJCeXUvN2Vud3Jmb0lxaElCL0tRbHNXd2tuV214MUJDV1FqSFNUSjRjcEdSb1duaFlQZHlXY242Q2ljSjJmb1ZpcG5xc25wS3FuSTdHdXN4c2FBSFM2VzJra0UxdTdiQk1qRFhPOGpJVWlHUStscnlZTm5nRVcwOG9rMGRUWjFzWFMyaWpZMDlYZjNlS1o1QmJiRzNLV1p5VUNqTHhtQWlNQjhMdG1GaVhSNFo3cEc4MmxMQ3hBQWJEVXdCTUZQeDAwa2REVHdoSU5CUklNS0hGVU1HUmNvSXk0WjIvRU8ySHdLRUFzTmUwaGlRWGg3dzRFQ0dCeXhBSnFLa3RPaExteXBZaVhBV0pXWkNndHBzME5PSFcyek1DT2prWVJkUzd1WXVBeFVqeGVJa2wwbXFaeXB6NXAwOUNOVzJsQnBiOW9NWE1xTWNmVjY3aXdCOFpDbzBZMVFEb0dHTGtnS09FQTVCd0g5T3hHeW5jTnExZ3N6V0krR3hWNDVXQTREMWFxUEV5cmNBREd5eExuZkh4ckE3T3VobThaVU1yTFFJa0J4NFJkRVdHTXN6QnJsd1ZYSmozZ2diOXJEMXozaWEwMlJZUFlyNHZSbmkwN3hUdEc4MHhVaW9ScHhIQjR4ZlhoRnNNY3g0SXlaMzVtZVFyQVRRa0YwRGtpT05xOCs0OG5MRFJJMkNMQWw0bnBqRENzOXM2K3ZiNEFSOXk2bjArL3Z2MzcrUFByRHhJQ0FDSDVCQWtIQUJzQUxBQUFBQUNnQUJRQWhBU2EzSVRPN0VTMjVNVG05Q3l1NU9UeS9LVGU5R3pHN0JTaTVGUzY3UFQ2L0xUaTlBeWUzTnp5L0R5eTVMemk5QVNlM0pUVzlFeTY3TVRxOURTdTVPVDIvSHpPN0J5bTVGeSs3UHorL0x6bTlQLy8vd0FBQUFBQUFBQUFBQUFBQUFYKzRDYU9aR21lYUtxdWJPdStjQ3pQZEczZmVLN3ZmTy8vd0tCUVdJaFFLSkhDY01tRUtSU3NpUVFDa1F4UUdRSmd5ejFrbXVEd2FJQ0FBQkFhTElYTEpYeEpHUVRYYkQ2L1RZMkJwc0hLNy90NmZDdCtnaXFFZ0grRGdTb0piRnNKSjFwc2RRUWxrbzUwbFNVWkdoYWVGZzkzbTUyZm9WaWtucVlubkorZ29uQ29ycWV0cWlhc3BhOGlHZ0IwdkZ0cEpCTmJ2V3dUSXcxenZvNkZJZzJlQVJiUXpDVE8wZGJUeDgvWEtOWFEwdHphM3lmZDIrUGhGdGdiY3BobkpRS092bVlDSXdId3ZXWVdKUSt0bmdzbysvejhuUURZU3FBSmdwOE02dU5uUVNFSmhQMytNWFM0SWNNd1pWeWdqTGhuYjhRN1l2QW9sRmpnN1VDQUFCVGxSU3lJWmhKYXlnMEFBN1I4dVZMbXlZWVNXWjZrcWRObFRwc29UU2hnUjBlamlEb1hlekh3T0NtZUw1SFVua0ZEQis2bXlYUWJuTFdVcWNTYzFRQll0WjdrV2hYYVZYQmJEM1F0d1FEa0ZnUWxITGdkNW9EZTNEbjU0T3hyV1d2VDNwTjk5WjQwR1hoRWhyOEJDb3M0UERoeHJzV0lGVmQ4MEZpeGdhWm1ESlFZa0l6WWxXYWRuUUpJbCtjQlZtb1BUUGRKdlRaRmc5U25qN0ZlclhyUTdCVHZITTB6Y1dtU3BoRzk0ZjBXUXp6SWdqSm5YbVlSN2FhRUF1UWNFUmd0VHYzSEV4WWFKR3dSQU14V2NBQVlIbGNmVDM1Y2dDTmd5NnRmejc2OSsvZnc0OGNJQVFBaCtRUUpCd0FSQUN3QUFBQUFvQUFVQUlRRW10eWMydlJFdHVUVTd2d3NydVFVb3VTMDR2VDArdndNbnR3OHN1VEU1dlFFbnR4OHp1emM4dncwcnVTODV2VDgvdnovLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFGL21Ba2ptUnBubWlxcm16cnZuQXN6M1J0MzNpdTczenYvOENnY0Vnc0dvV0hBMHVSV0N3U2lxTjBLbnNVQUlDQ0FRVWhBQlpZTUFIQ2JUd2VBM0lLWWthcnkrZTBpaDEvbitqdWVWdSszdHROZUh3bkFsaGZXQUluWG1HRkFBUjNCZ3lSREFaL0l4Q1FrcFJjbUpHYWo1S1RsU0tYb0o2QW5LR2JwYUlScEptaUJvdU1XeVFQc29aWUR5WURvSkVOS0x5OXZ5ZkJvTU83dlF6SEpjV1N5eVROdnNESnp5UFJ5aWRYaFdCZ0JTVUpqR0NHVHlhb25Tam1rK2pKdE9YczY3M3RKZW55SlBUd3BTWUh0NHRLSTA2NEdIMXhGdzlmSm9QblR0eFQrSTVoUVlmNUlCNHNzVytSdUMvK1JGd2Nad2dCc2w0RHBvRVVDU29rc1dRbWtUK1dKQ2twSlRPVUxDTzVIS0Z0R3hadkpCeHdFL2pGd2FsU0dVdTQ2aFNVeE5CSlJTMmhNcEIwMU5LbXJaNnF5Z1QxS05NVEFXNkJDVkRDbGtWY3VnQU5VR0JnQUZRUkJ4b1lLSHMyUXRxMVpsVzhaU3RYTGQwVWMrUGl0YXNYUmQ2ejRHUWxTTVR6aXlNcWlCT1gwNmJGTDRHZFlsZ3BubndrQ1lzSGdST0VwY3k1cytmUG9FT0xIazI2dE9rV0lRQUFJZmtFQ1FjQURBQXNBQUFBQUtBQUZBQ0RCSnJjbE5iMDFPNzhSTGJrck43MFBMTGs5UHI4RktMa3BONzBmTTdzdE9MMC9QNzgvLy8vQUFBQUFBQUFBQUFBQlA2UXlVbXJ2VGpyemJ2L1lDaU9aR21lYUtxdWJPdStjQ3pQZEczZm0ySGdmQjhyQndEZ1FOQXNCQXFGWUdGRUtwbVpZM0xabkVJeDBtZFZHM1ZTdTlidDl6SVFtZ0VETENIQlRoQ3VsY1c2L1ZhMzNYQ0svRjYvN09sNUUzOXNmUmFEZUhhQWlZU0JEQVJuWjBVV0FuZHNBaGlVbFpjWG1YZWJrNVVKbnhXZGJhTVVwWmFZb2FjVHFhS3JtaGRCa0VJSEYzTjhHQWloa2hhOGxiNFZ3TG9YeEhTN3ZjbkJ5OFcveWhVR3RXYzd3OUFXdWNpNDF4WFpoQmplYnVEY0ZPSEM1ZVFUNWhiUzAwTFZxS3l4bnZPbTlhcWM4dm15Ky9UOTl2L3dWYUJWNjVhaGJBVGdSVU9va0lJQmhoZ2U4bWs0UVNJZGloSXNFc0xJUUtNYmprMGVFMGFFYUNHQXV3QllCQkFnSUlCalJwVXNYWGFFMlZLREFab3liNjZzbVVGblRKczRnZTdNR1JSRGdUTkIwdmhZeXBRRUFsb0hFRFNkU3ZXRGpxcFlzMnJkeXJXcjE2OWd3MjZOQUFBN1YxbE5lVFJrV0RSclFrRjBhVEJMVDFGTGNESXpXREZ2Y1Vaa1R6WXZjbWxrTTBsWlJXOHpNRVZsVVZSU2VuVnNOVzVqU0UweVRWZ3hjMmRrYUZrdlN3PT1cIjtcclxuXHJcbiAgQElucHV0KCkgZ2V0Q2xpZW50VG9rZW46IEZ1bmN0aW9uID0gKCkgPT4gdGhpcy5zZXJ2aWNlLmdldENsaWVudFRva2VuKHRoaXMuY2xpZW50VG9rZW5VUkwpO1xyXG4gIEBJbnB1dCgpIGNyZWF0ZVB1cmNoYXNlOiBGdW5jdGlvbiA9IChub25jZSwgY2hhcmdlQW1vdW50KSA9PiB0aGlzLnNlcnZpY2UuY3JlYXRlUHVyY2hhc2UodGhpcy5jcmVhdGVQdXJjaGFzZVVSTCwgbm9uY2UsIGNoYXJnZUFtb3VudCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBzZXJ2aWNlOiBOZ3hCcmFpbnRyZWVTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBjb25maWd1cmVEcm9waW5TZXJ2aWNlOiBDb25maWd1cmVEcm9waW5TZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYgKHRoaXMuZW5hYmxlUGF5cGFsQ2hlY2tvdXQgJiYgdGhpcy5lbmFibGVQYXlwYWxWYXVsdCkge1xyXG4gICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICdQbGVhc2UgbWFrZSBzdXJlIGVpdGhlciBQYXlwYWwgQ2hlY2tvdXQgb3IgUGF5cGFsIFZhdWx0IGlzIHNldCB0byB0cnVlLiBCb3RoIGNhbm5vdCBiZSB0cnVlIGF0IHRoZSBzYW1lIHRpbWUuJztcclxuICAgIH0gZWxzZSBpZiAodGhpcy5lbmFibGVQYXlwYWxDaGVja291dCAmJiAhdGhpcy5jdXJyZW5jeSkgeyAvLyB1c2VyIHNob3VsZCBwcm92aWRlIGN1cnJlbmN5IGZvciBwYXlwYWwgY2hlY2tvdXQuXHJcbiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ1BsZWFzZSBwcm92aWRlIHRoZSBjdXJyZW5jeSBmb3IgUGF5cGFsIENoZWNrb3V0LiBleDogW2N1cnJlbmN5XT1cIlxcJ1VTRFxcJ1wiJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZ2VuZXJhdGVEcm9wSW5VSSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVEcm9wSW5VSSgpIHtcclxuICAgIHRoaXMuZ2V0Q2xpZW50VG9rZW4oKVxyXG4gICAgICAuc3Vic2NyaWJlKChjbGllbnRUb2tlbjogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjbGllbnRUb2tlbikge1xyXG4gICAgICAgICAgdGhpcy5jbGllbnRUb2tlbk5vdFJlY2VpdmVkID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuc2hvd0xvYWRlciA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmNsaWVudFRva2VuID0gY2xpZW50VG9rZW47XHJcbiAgICAgICAgICB0aGlzLmNsaWVudFRva2VuTm90UmVjZWl2ZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRHJvcGluKCk7XHJcbiAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgIHRoaXMuY2xpZW50VG9rZW5Ob3RSZWNlaXZlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zaG93TG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgQ2xpZW50IHRva2VuIG5vdCByZWNlaXZlZC5cclxuICAgICAgICBQbGVhc2UgbWFrZSBzdXJlIHlvdXIgYnJhaW50cmVlIHNlcnZlciBhcGkgaXMgY29uZmlndXJlZCBwcm9wZXJseSwgcnVubmluZyBhbmQgYWNjZXNzaWJsZS5gKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVEcm9waW4oKSB7XHJcbiAgICBpZiAodHlwZW9mIGJyYWludHJlZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdGhpcy5kcm9waW5Db25maWcuYXV0aG9yaXphdGlvbiA9IHRoaXMuY2xpZW50VG9rZW47XHJcbiAgICAgIHRoaXMuZHJvcGluQ29uZmlnLmNvbnRhaW5lciA9ICcjZHJvcGluLWNvbnRhaW5lcic7XHJcblxyXG4gICAgICBpZiAodGhpcy5zaG93Q2FyZGhvbGRlck5hbWUpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZURyb3BpblNlcnZpY2UuY29uZmlndXJlQ2FyZEhvbGRlck5hbWUodGhpcy5kcm9waW5Db25maWcpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmVuYWJsZVBheXBhbENoZWNrb3V0KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVEcm9waW5TZXJ2aWNlLmNvbmZpZ3VyZVBheXBhbENoZWNrb3V0KHRoaXMuZHJvcGluQ29uZmlnLCB0aGlzLmNoYXJnZUFtb3VudCwgdGhpcy5jdXJyZW5jeSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZW5hYmxlUGF5cGFsVmF1bHQpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZURyb3BpblNlcnZpY2UuY29uZmlndXJlUGF5cGFsVmF1bHQodGhpcy5kcm9waW5Db25maWcpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmxvY2FsZSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlRHJvcGluU2VydmljZS5jb25maWd1cmVMb2NhbGUodGhpcy5kcm9waW5Db25maWcsIHRoaXMubG9jYWxlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYnJhaW50cmVlLmRyb3Bpbi5jcmVhdGUodGhpcy5kcm9waW5Db25maWcsIChjcmVhdGVFcnIsIGluc3RhbmNlKSA9PiB7XHJcbiAgICAgICAgaWYgKGNyZWF0ZUVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihjcmVhdGVFcnIpO1xyXG4gICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBjcmVhdGVFcnI7XHJcbiAgICAgICAgICB0aGlzLnNob3dMb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kcm9waW5Mb2FkZWQuZW1pdCgpO1xyXG4gICAgICAgIHRoaXMuc2hvd1BheUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zaG93TG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlLmlzUGF5bWVudE1ldGhvZFJlcXVlc3RhYmxlKCkpIHtcclxuICAgICAgICAgIHRoaXMuZW5hYmxlUGF5QnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMucGF5QnV0dG9uU3RhdHVzLmVtaXQodGhpcy5lbmFibGVQYXlCdXR0b24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluc3RhbmNlLm9uKCdwYXltZW50TWV0aG9kUmVxdWVzdGFibGUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIHRoaXMuZW5hYmxlUGF5QnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMucGF5QnV0dG9uU3RhdHVzLmVtaXQodGhpcy5lbmFibGVQYXlCdXR0b24pO1xyXG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5vbignbm9QYXltZW50TWV0aG9kUmVxdWVzdGFibGUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIHRoaXMuZW5hYmxlUGF5QnV0dG9uID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLnBheUJ1dHRvblN0YXR1cy5lbWl0KHRoaXMuZW5hYmxlUGF5QnV0dG9uKTtcclxuICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHBheSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XHJcbiAgICAgIHRoaXMuaW5zdGFuY2UucmVxdWVzdFBheW1lbnRNZXRob2QoKGVyciwgcGF5bG9hZCkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5hbGxvd0Nob29zZSkgeyAvLyBwcm9jZXNzIGltbWVkaWF0ZWx5IGFmdGVyIHRva2VuaXphdGlvblxyXG4gICAgICAgICAgdGhpcy5ub25jZSA9IHBheWxvYWQubm9uY2U7XHJcbiAgICAgICAgICB0aGlzLnNob3dEcm9waW5VSSA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5zaG93TG9hZGVyID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuY29uZmlybVBheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnN0YW5jZS5pc1BheW1lbnRNZXRob2RSZXF1ZXN0YWJsZSgpKSB7XHJcbiAgICAgICAgICB0aGlzLm5vbmNlID0gcGF5bG9hZC5ub25jZTtcclxuICAgICAgICAgIHRoaXMuc2hvd0Ryb3BpblVJID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLnNob3dMb2FkZXIgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5jb25maXJtUGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbmZpcm1QYXkoKTogdm9pZCB7XHJcbiAgICB0aGlzLnNob3dEcm9waW5VSSA9IGZhbHNlO1xyXG4gICAgdGhpcy5jcmVhdGVQdXJjaGFzZSh0aGlzLm5vbmNlLCB0aGlzLmNoYXJnZUFtb3VudClcclxuICAgICAgLnN1YnNjcmliZSgoc3RhdHVzOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoc3RhdHVzLmVycm9ycykge1xyXG4gICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBzdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAgIHRoaXMuc2hvd0Ryb3BpblVJID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuZ2VuZXJhdGVEcm9wSW5VSSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBheW1lbnRTdGF0dXMuZW1pdChzdGF0dXMpO1xyXG4gICAgICAgIHRoaXMuc2hvd0xvYWRlciA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIl19