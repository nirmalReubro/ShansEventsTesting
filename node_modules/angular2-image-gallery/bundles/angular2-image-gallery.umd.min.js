!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http"),require("@angular/animations"),require("@angular/forms"),require("@angular/common"),require("@angular/platform-browser/animations")):"function"==typeof define&&define.amd?define("angular2-image-gallery",["exports","@angular/core","rxjs","@angular/common/http","@angular/animations","@angular/forms","@angular/common","@angular/platform-browser/animations"],t):t(e["angular2-image-gallery"]={},e.ng.core,e.rxjs,e.ng.common.http,e.ng.animations,e.ng.forms,e.ng.common,e.ng.platformBrowser.animations)}(this,function(e,a,t,i,r,n,o,s){"use strict";var g=function(){function e(){this.imagesUpdatedSource=new t.Subject,this.imageSelectedIndexUpdatedSource=new t.Subject,this.showImageViewerSource=new t.Subject,this.imagesUpdated$=this.imagesUpdatedSource.asObservable(),this.imageSelectedIndexUpdated$=this.imageSelectedIndexUpdatedSource.asObservable(),this.showImageViewerChanged$=this.showImageViewerSource.asObservable()}return e.prototype.updateImages=function(e){this.imagesUpdatedSource.next(e)},e.prototype.updateSelectedImageIndex=function(e){this.imageSelectedIndexUpdatedSource.next(e)},e.prototype.showImageViewer=function(e){this.showImageViewerSource.next(e)},e.decorators=[{type:a.Injectable}],e}(),c=function(){function e(e,t,i){this.imageService=e,this.http=t,this.changeDetectorRef=i,this.gallery=[],this.imageDataStaticPath="assets/img/gallery/",this.imageDataCompletePath="",this.dataFileName="data.json",this.images=[],this.minimalQualityCategory="preview_xxs",this.rowIndex=0,this.rightArrowInactive=!1,this.leftArrowInactive=!1,this.providedImageMargin=3,this.providedImageSize=7,this.providedGalleryName="",this.providedMetadataUri=undefined,this.rowsPerPage=200,this.viewerChange=new a.EventEmitter}return e.prototype.triggerCycle=function(e){this.scaleGallery()},e.prototype.windowResize=function(e){this.render()},e.prototype.ngOnInit=function(){var t=this;this.fetchDataAndRender(),this.viewerSubscription=this.imageService.showImageViewerChanged$.subscribe(function(e){return t.viewerChange.emit(e)})},e.prototype.ngOnChanges=function(e){e.providedGalleryName!=undefined?this.fetchDataAndRender():this.render()},e.prototype.ngOnDestroy=function(){this.viewerSubscription&&this.viewerSubscription.unsubscribe()},e.prototype.openImageViewer=function(e){this.imageService.updateImages(this.images),this.imageService.updateSelectedImageIndex(this.images.indexOf(e)),this.imageService.showImageViewer(!0)},e.prototype.navigate=function(e){(1===e&&this.rowIndex<this.gallery.length-this.rowsPerPage||-1===e&&0<this.rowIndex)&&(this.rowIndex+=this.rowsPerPage*e),this.refreshNavigationErrorState()},e.prototype.calcImageMargin=function(){var e=this.getGalleryWidth()/1920;return Math.round(Math.max(1,this.providedImageMargin*e))},e.prototype.fetchDataAndRender=function(){var t=this;this.imageDataCompletePath=this.providedMetadataUri,this.providedMetadataUri||(this.imageDataCompletePath=""!==this.providedGalleryName?this.imageDataStaticPath+this.providedGalleryName+"/"+this.dataFileName:this.imageDataStaticPath+this.dataFileName),this.http.get(this.imageDataCompletePath).subscribe(function(e){t.images=e,t.imageService.updateImages(t.images),t.images.forEach(function(e){e.galleryImageLoaded=!1,e.viewerImageLoaded=!1,e.srcAfterFocus=""}),t.render(),t.render()},function(e){t.providedMetadataUri?console.error("Provided endpoint '"+t.providedMetadataUri+"' did not serve metadata correctly or in the expected format.\n      See here for more information: https://github.com/BenjaminBrandmeier/angular2-image-gallery/blob/master/docs/externalDataSource.md,\n      Original error: "+e):console.error("Did you run the convert script from angular2-image-gallery for your images first? Original error: "+e)},function(){return undefined})},e.prototype.render=function(){this.gallery=[];for(var e=[this.images[0]],t=0,i=0;i<this.images.length;i++){for(;this.images[i+1]&&this.shouldAddCandidate(e,this.images[i+1]);)i++;this.images[i+1]&&e.pop(),this.gallery[t++]=e,e=[this.images[i+1]]}this.scaleGallery()},e.prototype.shouldAddCandidate=function(e,t){var i=this.calcIdealHeight()-this.calcRowHeight(e);e.push(t);var a=this.calcIdealHeight()-this.calcRowHeight(e);return Math.abs(i)>Math.abs(a)},e.prototype.calcRowHeight=function(e){var t=this.calcOriginalRowWidth(e),i=(this.getGalleryWidth()-(e.length-1)*this.calcImageMargin())/t;return e[0][this.minimalQualityCategory].height*i},e.prototype.calcOriginalRowWidth=function(e){var i=this,a=0;return e.forEach(function(e){var t=i.calcIdealHeight()/e[i.minimalQualityCategory].height;e[i.minimalQualityCategory].width=e[i.minimalQualityCategory].width*t,e[i.minimalQualityCategory].height=i.calcIdealHeight(),a+=e[i.minimalQualityCategory].width}),a},e.prototype.calcIdealHeight=function(){return this.getGalleryWidth()/(80/this.providedImageSize)+100},e.prototype.getGalleryWidth=function(){return 0===this.galleryContainer.nativeElement.clientWidth?this.galleryContainer.nativeElement.scrollWidth:this.galleryContainer.nativeElement.clientWidth},e.prototype.scaleGallery=function(){var a=this,r=0,n=0;this.gallery.slice(this.rowIndex,this.rowIndex+this.rowsPerPage).forEach(function(e){var t=a.calcOriginalRowWidth(e);if(e!==a.gallery[a.gallery.length-1]){var i=(a.getGalleryWidth()-(e.length-1)*a.calcImageMargin())/t;e.forEach(function(e){e.width=e[a.minimalQualityCategory].width*i,e.height=e[a.minimalQualityCategory].height*i,n=Math.max(n,e.height),a.checkForAsyncLoading(e,r++)})}else e.forEach(function(e){e.width=e[a.minimalQualityCategory].width,e.height=e[a.minimalQualityCategory].height,n=Math.max(n,e.height),a.checkForAsyncLoading(e,r++)})}),this.minimalQualityCategory=375<n?"preview_xs":"preview_xxs",this.refreshNavigationErrorState(),this.changeDetectorRef.detectChanges()},e.prototype.checkForAsyncLoading=function(e,t){var i=this.imageElements.toArray();e.galleryImageLoaded||0<i.length&&i[t]&&this.isScrolledIntoView(i[t].nativeElement)?(e.galleryImageLoaded=!0,e.srcAfterFocus=e[this.minimalQualityCategory].path):e.srcAfterFocus=""},e.prototype.isScrolledIntoView=function(e){var t=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;return t<window.innerHeight&&0<=i&&(0<i||0<t)},e.prototype.refreshNavigationErrorState=function(){this.leftArrowInactive=0==this.rowIndex,this.rightArrowInactive=this.rowIndex>this.gallery.length-this.rowsPerPage},e.decorators=[{type:a.Component,args:[{selector:"gallery",template:'<div #galleryContainer class="galleryContainer">\n    <div class="innerGalleryContainer">\n        <div *ngFor=\'let imgrow of gallery | slice:rowIndex:rowIndex+rowsPerPage; let i = index\'\n             class="imagerow"\n             [style.margin-bottom.px]="calcImageMargin()">\n            <img #imageElement\n                 *ngFor=\'let img of imgrow; let j = index\'\n                 class="thumbnail"\n                 [style.width.px]="img[\'width\']"\n                 [style.height.px]="img[\'height\']"\n                 (click)="openImageViewer(img)"\n                 [src]="img[\'srcAfterFocus\']"\n                 [style.background]="img.dominantColor"\n                 [style.margin-right.px]="calcImageMargin()"/>\n        </div>\n    </div>\n\n    <div class="pagerContainer" *ngIf="(!rightArrowInactive || !leftArrowInactive)">\n        <img [ngClass]="{\'inactive\': leftArrowInactive}" class="pager left"\n             src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4IDQ4OyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDggNDgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxwYXRoIGQ9Ik0yNCw0NkMxMS45LDQ2LDIsMzYuMSwyLDI0UzExLjksMiwyNCwyczIyLDkuOSwyMiwyMlMzNi4xLDQ2LDI0LDQ2eiBNMjQsNEMxMyw0LDQsMTMsNCwyNGMwLDExLDksMjAsMjAsMjAgICBjMTEsMCwyMC05LDIwLTIwQzQ0LDEzLDM1LDQsMjQsNHoiLz48L2c+PGc+PHBvbHlnb24gcG9pbnRzPSIyNy42LDM2LjcgMTQuOSwyNCAyNy42LDExLjMgMjkuMSwxMi43IDE3LjgsMjQgMjkuMSwzNS4zICAiLz48L2c+PC9zdmc+"\n             (click)="navigate(-1)"/>\n        <img [ngClass]="{\'inactive\': rightArrowInactive}" class="pager right"\n             src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4IDQ4OyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDggNDgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxwYXRoIGQ9Ik0yNCw0NkMxMS45LDQ2LDIsMzYuMSwyLDI0UzExLjksMiwyNCwyczIyLDkuOSwyMiwyMlMzNi4xLDQ2LDI0LDQ2eiBNMjQsNEMxMyw0LDQsMTMsNCwyNHM5LDIwLDIwLDIwczIwLTksMjAtMjAgICBTMzUsNCwyNCw0eiIvPjwvZz48Zz48cG9seWdvbiBwb2ludHM9IjIxLjQsMzYuNyAxOS45LDM1LjMgMzEuMiwyNCAxOS45LDEyLjcgMjEuNCwxMS4zIDM0LjEsMjQgICIvPjwvZz48L3N2Zz4="\n             (click)="navigate(1)"/>\n    </div>\n</div>\n\n<viewer></viewer>\n',styles:[".innerGalleryContainer{position:relative}.galleryContainer{height:100%;width:100%;overflow:hidden}.innerGalleryContainer img:last-child{margin-right:-1px!important}.galleryContainer img:hover{-webkit-filter:brightness(50%);filter:brightness(50%);transition:all ease-out .2s;cursor:pointer}.imagerow{margin-right:1px;overflow:hidden;display:flex}::-webkit-scrollbar{display:none}.asyncLoadingContainer{position:absolute;background-color:transparent;height:0;width:0;bottom:120px}.pagerContainer{margin:40px auto;width:180px}.pager{display:block;height:60px}@media (max-width:700px){.pagerContainer{margin:40px auto;width:150px}.pager{display:block;height:45px}}.pager.inactive{opacity:.15}.pager.left{float:left}.pager.right{float:right}"]}]}],e.ctorParameters=function(){return[{type:g},{type:i.HttpClient},{type:a.ChangeDetectorRef}]},e.propDecorators={providedImageMargin:[{type:a.Input,args:["flexBorderSize"]}],providedImageSize:[{type:a.Input,args:["flexImageSize"]}],providedGalleryName:[{type:a.Input,args:["galleryName"]}],providedMetadataUri:[{type:a.Input,args:["metadataUri"]}],rowsPerPage:[{type:a.Input,args:["maxRowsPerPage"]}],viewerChange:[{type:a.Output}],galleryContainer:[{type:a.ViewChild,args:["galleryContainer"]}],imageElements:[{type:a.ViewChildren,args:["imageElement"]}],triggerCycle:[{type:a.HostListener,args:["window:scroll",["$event"]]}],windowResize:[{type:a.HostListener,args:["window:resize",["$event"]]}]},e}(),l=function(){function e(e){var t=this;this.imageService=e,this.images=[{}],this.currentIdx=0,this.leftArrowVisible=!0,this.rightArrowVisible=!0,this.categorySelected="preview_xxs",this.qualitySelectorShown=!1,this.qualitySelected="auto",e.imagesUpdated$.subscribe(function(e){t.images=e}),e.imageSelectedIndexUpdated$.subscribe(function(e){t.currentIdx=e,t.images.forEach(function(e){return e.active=!1}),t.images[t.currentIdx].active=!0,t.transform=0,t.updateQuality()}),e.showImageViewerChanged$.subscribe(function(e){t.showViewer=e}),this.math=Math}return Object.defineProperty(e.prototype,"leftArrowActive",{get:function(){return 0<this.currentIdx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightArrowActive",{get:function(){return this.currentIdx<this.images.length-1},enumerable:!0,configurable:!0}),e.prototype.pan=function(e){this.transform=e.deltaX},e.prototype.onResize=function(){this.images.forEach(function(e){e.viewerImageLoaded=!1,e.active=!1}),this.updateImage()},e.prototype.showQualitySelector=function(){this.qualitySelectorShown=!this.qualitySelectorShown},e.prototype.qualityChanged=function(e){this.qualitySelected=e,this.updateImage()},e.prototype.imageLoaded=function(e){e.viewerImageLoaded=!0},e.prototype.navigate=function(e,t){(1===e&&this.currentIdx<this.images.length-1||-1===e&&0<this.currentIdx)&&(-1==e?(this.images[this.currentIdx].transition="leaveToRight",this.images[this.currentIdx-1].transition="enterFromLeft"):(this.images[this.currentIdx].transition="leaveToLeft",this.images[this.currentIdx+1].transition="enterFromRight"),this.currentIdx+=e,t?this.hideNavigationArrows():this.showNavigationArrows(),this.updateImage())},e.prototype.showNavigationArrows=function(){this.leftArrowVisible=!0,this.rightArrowVisible=!0},e.prototype.closeViewer=function(){this.images.forEach(function(e){return e.transition=undefined}),this.images.forEach(function(e){return e.active=!1}),this.imageService.showImageViewer(!1)},e.prototype.onKeydown=function(t){var e=[37,39,27,36,35].find(function(e){return e===t.keyCode});switch(e&&t.preventDefault(),e){case 37:this.navigate(-1,!1);break;case 39:this.navigate(1,!1);break;case 27:this.closeViewer();break;case 36:this.images[this.currentIdx].transition="leaveToRight",this.currentIdx=0,this.images[this.currentIdx].transition="enterFromLeft",this.updateImage();break;case 35:this.images[this.currentIdx].transition="leaveToLeft",this.currentIdx=this.images.length-1,this.images[this.currentIdx].transition="enterFromRight",this.updateImage()}},e.prototype.hideNavigationArrows=function(){this.leftArrowVisible=!1,this.rightArrowVisible=!1},e.prototype.updateImage=function(){var t=this;setTimeout(function(){t.updateQuality(),t.images[t.currentIdx].active=!0,t.images.forEach(function(e){e!=t.images[t.currentIdx]&&(e.active=!1,t.transform=0)})},500)},e.prototype.updateQuality=function(){var e=window.innerWidth,t=window.innerHeight;switch(this.qualitySelected){case"auto":this.categorySelected="preview_xxs",e>this.images[this.currentIdx].preview_xxs.width&&t>this.images[this.currentIdx].preview_xxs.height&&(this.categorySelected="preview_xs"),e>this.images[this.currentIdx].preview_xs.width&&t>this.images[this.currentIdx].preview_xs.height&&(this.categorySelected="preview_s"),e>this.images[this.currentIdx].preview_s.width&&t>this.images[this.currentIdx].preview_s.height&&(this.categorySelected="preview_m"),e>this.images[this.currentIdx].preview_m.width&&t>this.images[this.currentIdx].preview_m.height&&(this.categorySelected="preview_l"),e>this.images[this.currentIdx].preview_l.width&&t>this.images[this.currentIdx].preview_l.height&&(this.categorySelected="preview_xl"),e>this.images[this.currentIdx].preview_xl.width&&t>this.images[this.currentIdx].preview_xl.height&&(this.categorySelected="raw");break;case"low":this.categorySelected="preview_xxs";break;case"mid":this.categorySelected="preview_m";break;case"high":this.categorySelected="raw";break;default:this.categorySelected="preview_m"}},e.decorators=[{type:a.Component,args:[{selector:"viewer",template:'<div class="outerContainer" (window:resize)="onResize()" *ngIf="showViewer" [@showViewerTransition]="showViewer">\n\n\n    <img [ngClass]="{\'activeArrow\': leftArrowActive}" class="arrow left"\n         src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPiAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgaWQ9Im1pdSIgc3Ryb2tlPSIjNTU1IiBzdHJva2Utd2lkdGg9IjAuMiI+ICAgICA8ZyBpZD0iQXJ0Ym9hcmQtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM5NS4wMDAwMDAsIC0xOTEuMDAwMDAwKSI+PGcgaWQ9InNsaWNlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTUuMDAwMDAwLCAxMTkuMDAwMDAwKSIvPjxwYXRoICAgICAgIGQ9Ik0zOTYsMjAyLjUgQzM5NiwxOTYuMTQ4NzI1IDQwMS4xNDg3MjUsMTkxIDQwNy41LDE5MSBDNDEzLjg1MTI3NSwxOTEgNDE5LDE5Ni4xNDg3MjUgNDE5LDIwMi41IEM0MTksMjA4Ljg1MTI3NSA0MTMuODUxMjc1LDIxNCA0MDcuNSwyMTQgQzQwMS4xNDg3MjUsMjE0IDM5NiwyMDguODUxMjc1IDM5NiwyMDIuNSBaIE00MDguNjU2ODU0LDE5Ni44NDMxNDYgTDQxMC4wNzEwNjgsMTk4LjI1NzM1OSBMNDA1LjgyODQyNywyMDIuNSBMNDEwLjA3MTA2OCwyMDYuNzQyNjQxIEw0MDguNjU2ODU0LDIwOC4xNTY4NTQgTDQwMywyMDIuNSBMNDA4LjY1Njg1NCwxOTYuODQzMTQ2IFoiICAgICAgIGZpbGw9IiNhYWEiICAgICAgIGlkPSJjaXJjbGUtYmFjay1hcnJvdy1nbHlwaCIvPjwvZz4gICA8L2c+IDwvc3ZnPg=="\n         [hidden]="!leftArrowVisible" (click)="navigate(-1, false)"/>\n    <img [ngClass]="{\'activeArrow\': rightArrowActive}" class="arrow right"\n         src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPjxkZWZzLz4gICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGlkPSJtaXUiIHN0cm9rZT0iIzU1NSIgc3Ryb2tlLXdpZHRoPSIwLjIiPiAgICAgPGcgaWQ9IkFydGJvYXJkLTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NjcuMDAwMDAwLCAtMTkxLjAwMDAwMCkiPjxnIGlkPSJzbGljZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE1LjAwMDAwMCwgMTE5LjAwMDAwMCkiLz48cGF0aCAgICAgICBkPSJNNDY4LDIwMi41IEM0NjgsMTk2LjE0ODcyNSA0NzMuMTQ4NzI1LDE5MSA0NzkuNSwxOTEgQzQ4NS44NTEyNzUsMTkxIDQ5MSwxOTYuMTQ4NzI1IDQ5MSwyMDIuNSBDNDkxLDIwOC44NTEyNzUgNDg1Ljg1MTI3NSwyMTQgNDc5LjUsMjE0IEM0NzMuMTQ4NzI1LDIxNCA0NjgsMjA4Ljg1MTI3NSA0NjgsMjAyLjUgWiBNNDgwLjY1Njg1NCwxOTYuODQzMTQ2IEw0ODIuMDcxMDY4LDE5OC4yNTczNTkgTDQ3Ny44Mjg0MjcsMjAyLjUgTDQ4Mi4wNzEwNjgsMjA2Ljc0MjY0MSBMNDgwLjY1Njg1NCwyMDguMTU2ODU0IEw0NzUsMjAyLjUgTDQ4MC42NTY4NTQsMTk2Ljg0MzE0NiBaIiAgICAgICBmaWxsPSIjYWFhIiAgICAgICBpZD0iY2lyY2xlLW5leHQtYXJyb3ctZGlzY2xvc3VyZS1nbHlwaCIgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc5LjUwMDAwMCwgMjAyLjUwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNDc5LjUwMDAwMCwgLTIwMi41MDAwMDApICIvPjwvZz4gICA8L2c+IDwvc3ZnPg=="\n         [hidden]="!rightArrowVisible" (click)="navigate(1, false)"/>\n\n    <div class="buttonContainer">\n        <img class="action close"\n             src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwcHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiBmaWxsPSIjYWFhIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjI0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgPHBhdGggICAgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlPSIjNDQ0IiAgICBkPSJNNDM3LjUsMzg2LjZMMzA2LjksMjU2bDEzMC42LTEzMC42YzE0LjEtMTQuMSwxNC4xLTM2LjgsMC01MC45Yy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMEwyNTYsMjA1LjFMMTI1LjQsNzQuNSAgYy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMGMtMTQuMSwxNC4xLTE0LjEsMzYuOCwwLDUwLjlMMjA1LjEsMjU2TDc0LjUsMzg2LjZjLTE0LjEsMTQuMS0xNC4xLDM2LjgsMCw1MC45ICBjMTQuMSwxNC4xLDM2LjgsMTQuMSw1MC45LDBMMjU2LDMwNi45bDEzMC42LDEzMC42YzE0LjEsMTQuMSwzNi44LDE0LjEsNTAuOSwwQzQ1MS41LDQyMy40LDQ1MS41LDQwMC42LDQzNy41LDM4Ni42eiIvPjwvc3ZnPg=="\n             (click)="closeViewer()"/>\n    </div>\n\n    <div class="imageContainer"\n         (click)="showNavigationArrows()"\n         (swipeleft)="navigate(1, $event)"\n         (swiperight)="navigate(-1, $event)"\n         (pan)="pan($event)">\n\n        <div *ngFor=\'let img of images; let j = index\'\n             class="image"\n             [class.active]="img[\'active\']"\n             [style.background-image]="img[\'viewerImageLoaded\'] ? \'url(\'+img[categorySelected][\'path\']+\')\' : math.abs(currentIdx-j) <=1 ? \'url(\'+img[\'preview_xxs\'][\'path\']+\')\' : \'\'"\n             [style.left]="transform+\'px\'"\n             [@imageTransition]="img[\'transition\']"></div>\n\n        <img *ngFor=\'let img of images; let j = index\'\n             class="preloading-image"\n             (load)="imageLoaded(img)"\n             src="{{ math.abs(currentIdx-j) <=1 ? img[categorySelected][\'path\'] : \'\'}}"/>\n    </div>\n</div>\n\n',styles:[".outerContainer{top:0;bottom:0;left:0;right:0;height:100%;width:100%;position:fixed;background-color:rgba(0,0,0,.95);font-family:sans-serif;z-index:1031}.imageContainer{position:absolute;float:none;top:0;bottom:0;left:0;right:0}.imageContainer .image,.imageContainer .preloading-image{visibility:hidden}.imageContainer .image.active{position:absolute;visibility:visible;background-repeat:no-repeat;background-size:contain;background-position:center;margin:auto;left:0;right:0;top:0;bottom:0;height:100%;width:100%;opacity:1}.arrow{opacity:0}.arrow:hover{cursor:pointer}.outerContainer:hover .arrow.activeArrow{height:calc(20px + 1.5vw);position:absolute;top:calc(50% - (20px + 1.5vw)/ 2);bottom:50%;z-index:1;opacity:1;transition:all ease-out .5s}.arrow.left{left:2vw}.arrow.right{right:2vw}.arrow:not(.activeArrow):hover{opacity:0;cursor:pointer;transition:all ease-out .5s}.buttonContainer{position:absolute;top:20px;right:20px;height:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}.buttonContainer .action{height:100%;cursor:pointer;vertical-align:top}.buttonContainer .action:focus{outline:0}.buttonContainer .action:hover{background-color:#222;transition:all ease-out .3s}.buttonContainer .action.close{width:26px;height:26px}md-button-toggle.checked{background-color:#a0a0a0}.menuButton{position:absolute;bottom:20px;right:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:local('Material Icons'),local('MaterialIcons-Regular'),url(https://fonts.gstatic.com/s/materialicons/v19/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format('woff2')}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}"],host:{"(document:keydown)":"onKeydown($event)"},animations:[r.trigger("imageTransition",[r.state("enterFromRight",r.style({opacity:1,transform:"translate(0px, 0px)"})),r.state("enterFromLeft",r.style({opacity:1,transform:"translate(0px, 0px)"})),r.state("leaveToLeft",r.style({opacity:0,transform:"translate(-100px, 0px)"})),r.state("leaveToRight",r.style({opacity:0,transform:"translate(100px, 0px)"})),r.transition("* => enterFromRight",[r.style({opacity:0,transform:"translate(30px, 0px)"}),r.animate("250ms 500ms ease-in")]),r.transition("* => enterFromLeft",[r.style({opacity:0,transform:"translate(-30px, 0px)"}),r.animate("250ms 500ms ease-in")]),r.transition("* => leaveToLeft",[r.style({opacity:1}),r.animate("250ms ease-out")]),r.transition("* => leaveToRight",[r.style({opacity:1}),r.animate("250ms ease-out")])]),r.trigger("showViewerTransition",[r.state("true",r.style({opacity:1})),r.state("void",r.style({opacity:0})),r.transition("void => *",[r.style({opacity:0}),r.animate("1000ms ease-in")]),r.transition("* => void",[r.style({opacity:1}),r.animate("500ms ease-out")])])]}]}],e.ctorParameters=function(){return[{type:g}]},e}(),h=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[o.CommonModule,n.FormsModule,i.HttpClientModule,s.BrowserAnimationsModule],declarations:[c,l],providers:[g],exports:[c,l]}]}],e}();e.ImageService=g,e.GalleryComponent=c,e.ViewerComponent=l,e.Angular2ImageGalleryModule=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular2-image-gallery.umd.min.js.map