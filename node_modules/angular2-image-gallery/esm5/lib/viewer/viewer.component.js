/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { ImageService } from '../services/image.service';
import { Component } from '@angular/core';
import { animate, state, style, transition, trigger } from '@angular/animations';
var ViewerComponent = /** @class */ (function () {
    function ViewerComponent(imageService) {
        var _this = this;
        this.imageService = imageService;
        this.images = [{}];
        this.currentIdx = 0;
        this.leftArrowVisible = true;
        this.rightArrowVisible = true;
        this.categorySelected = 'preview_xxs';
        this.qualitySelectorShown = false;
        this.qualitySelected = 'auto';
        imageService.imagesUpdated$.subscribe(function (images) {
            _this.images = images;
        });
        imageService.imageSelectedIndexUpdated$.subscribe(function (newIndex) {
            _this.currentIdx = newIndex;
            _this.images.forEach(function (image) { return image['active'] = false; });
            _this.images[_this.currentIdx]['active'] = true;
            _this.transform = 0;
            _this.updateQuality();
        });
        imageService.showImageViewerChanged$.subscribe(function (showViewer) {
            _this.showViewer = showViewer;
        });
        this.math = Math;
    }
    Object.defineProperty(ViewerComponent.prototype, "leftArrowActive", {
        get: /**
         * @return {?}
         */
        function () {
            return this.currentIdx > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerComponent.prototype, "rightArrowActive", {
        get: /**
         * @return {?}
         */
        function () {
            return this.currentIdx < this.images.length - 1;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} swipe
     * @return {?}
     */
    ViewerComponent.prototype.pan = /**
     * @param {?} swipe
     * @return {?}
     */
    function (swipe) {
        this.transform = swipe.deltaX;
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.onResize = /**
     * @return {?}
     */
    function () {
        this.images.forEach(function (image) {
            image['viewerImageLoaded'] = false;
            image['active'] = false;
        });
        this.updateImage();
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.showQualitySelector = /**
     * @return {?}
     */
    function () {
        this.qualitySelectorShown = !this.qualitySelectorShown;
    };
    /**
     * @param {?} newQuality
     * @return {?}
     */
    ViewerComponent.prototype.qualityChanged = /**
     * @param {?} newQuality
     * @return {?}
     */
    function (newQuality) {
        this.qualitySelected = newQuality;
        this.updateImage();
    };
    /**
     * @param {?} image
     * @return {?}
     */
    ViewerComponent.prototype.imageLoaded = /**
     * @param {?} image
     * @return {?}
     */
    function (image) {
        image['viewerImageLoaded'] = true;
    };
    /**
     * direction (-1: left, 1: right)
     * swipe (user swiped)
     */
    /**
     * direction (-1: left, 1: right)
     * swipe (user swiped)
     * @param {?} direction
     * @param {?} swipe
     * @return {?}
     */
    ViewerComponent.prototype.navigate = /**
     * direction (-1: left, 1: right)
     * swipe (user swiped)
     * @param {?} direction
     * @param {?} swipe
     * @return {?}
     */
    function (direction, swipe) {
        if ((direction === 1 && this.currentIdx < this.images.length - 1) ||
            (direction === -1 && this.currentIdx > 0)) {
            if (direction == -1) {
                this.images[this.currentIdx]['transition'] = 'leaveToRight';
                this.images[this.currentIdx - 1]['transition'] = 'enterFromLeft';
            }
            else {
                this.images[this.currentIdx]['transition'] = 'leaveToLeft';
                this.images[this.currentIdx + 1]['transition'] = 'enterFromRight';
            }
            this.currentIdx += direction;
            if (swipe) {
                this.hideNavigationArrows();
            }
            else {
                this.showNavigationArrows();
            }
            this.updateImage();
        }
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.showNavigationArrows = /**
     * @return {?}
     */
    function () {
        this.leftArrowVisible = true;
        this.rightArrowVisible = true;
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.closeViewer = /**
     * @return {?}
     */
    function () {
        this.images.forEach(function (image) { return image['transition'] = undefined; });
        this.images.forEach(function (image) { return image['active'] = false; });
        this.imageService.showImageViewer(false);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ViewerComponent.prototype.onKeydown = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var /** @type {?} */ prevent = [37, 39, 27, 36, 35]
            .find(function (no) { return no === event.keyCode; });
        if (prevent) {
            event.preventDefault();
        }
        switch (prevent) {
            case 37:
                // navigate left
                this.navigate(-1, false);
                break;
            case 39:
                // navigate right
                this.navigate(1, false);
                break;
            case 27:
                // esc
                this.closeViewer();
                break;
            case 36:
                // pos 1
                this.images[this.currentIdx]['transition'] = 'leaveToRight';
                this.currentIdx = 0;
                this.images[this.currentIdx]['transition'] = 'enterFromLeft';
                this.updateImage();
                break;
            case 35:
                // end
                this.images[this.currentIdx]['transition'] = 'leaveToLeft';
                this.currentIdx = this.images.length - 1;
                this.images[this.currentIdx]['transition'] = 'enterFromRight';
                this.updateImage();
                break;
            default:
                break;
        }
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.hideNavigationArrows = /**
     * @return {?}
     */
    function () {
        this.leftArrowVisible = false;
        this.rightArrowVisible = false;
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.updateImage = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // wait for animation to end
        setTimeout(function () {
            _this.updateQuality();
            _this.images[_this.currentIdx]['active'] = true;
            _this.images.forEach(function (image) {
                if (image != _this.images[_this.currentIdx]) {
                    image['active'] = false;
                    _this.transform = 0;
                }
            });
        }, 500);
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.updateQuality = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ screenWidth = window.innerWidth;
        var /** @type {?} */ screenHeight = window.innerHeight;
        switch (this.qualitySelected) {
            case 'auto': {
                this.categorySelected = 'preview_xxs';
                if (screenWidth > this.images[this.currentIdx]['preview_xxs'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_xxs'].height) {
                    this.categorySelected = 'preview_xs';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_xs'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_xs'].height) {
                    this.categorySelected = 'preview_s';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_s'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_s'].height) {
                    this.categorySelected = 'preview_m';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_m'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_m'].height) {
                    this.categorySelected = 'preview_l';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_l'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_l'].height) {
                    this.categorySelected = 'preview_xl';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_xl'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_xl'].height) {
                    this.categorySelected = 'raw';
                }
                break;
            }
            case 'low': {
                this.categorySelected = 'preview_xxs';
                break;
            }
            case 'mid': {
                this.categorySelected = 'preview_m';
                break;
            }
            case 'high': {
                this.categorySelected = 'raw';
                break;
            }
            default: {
                this.categorySelected = 'preview_m';
            }
        }
    };
    ViewerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'viewer',
                    template: "<div class=\"outerContainer\" (window:resize)=\"onResize()\" *ngIf=\"showViewer\" [@showViewerTransition]=\"showViewer\">\n\n\n    <img [ngClass]=\"{'activeArrow': leftArrowActive}\" class=\"arrow left\"\n         src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPiAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgaWQ9Im1pdSIgc3Ryb2tlPSIjNTU1IiBzdHJva2Utd2lkdGg9IjAuMiI+ICAgICA8ZyBpZD0iQXJ0Ym9hcmQtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM5NS4wMDAwMDAsIC0xOTEuMDAwMDAwKSI+PGcgaWQ9InNsaWNlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTUuMDAwMDAwLCAxMTkuMDAwMDAwKSIvPjxwYXRoICAgICAgIGQ9Ik0zOTYsMjAyLjUgQzM5NiwxOTYuMTQ4NzI1IDQwMS4xNDg3MjUsMTkxIDQwNy41LDE5MSBDNDEzLjg1MTI3NSwxOTEgNDE5LDE5Ni4xNDg3MjUgNDE5LDIwMi41IEM0MTksMjA4Ljg1MTI3NSA0MTMuODUxMjc1LDIxNCA0MDcuNSwyMTQgQzQwMS4xNDg3MjUsMjE0IDM5NiwyMDguODUxMjc1IDM5NiwyMDIuNSBaIE00MDguNjU2ODU0LDE5Ni44NDMxNDYgTDQxMC4wNzEwNjgsMTk4LjI1NzM1OSBMNDA1LjgyODQyNywyMDIuNSBMNDEwLjA3MTA2OCwyMDYuNzQyNjQxIEw0MDguNjU2ODU0LDIwOC4xNTY4NTQgTDQwMywyMDIuNSBMNDA4LjY1Njg1NCwxOTYuODQzMTQ2IFoiICAgICAgIGZpbGw9IiNhYWEiICAgICAgIGlkPSJjaXJjbGUtYmFjay1hcnJvdy1nbHlwaCIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\n         [hidden]=\"!leftArrowVisible\" (click)=\"navigate(-1, false)\"/>\n    <img [ngClass]=\"{'activeArrow': rightArrowActive}\" class=\"arrow right\"\n         src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPjxkZWZzLz4gICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGlkPSJtaXUiIHN0cm9rZT0iIzU1NSIgc3Ryb2tlLXdpZHRoPSIwLjIiPiAgICAgPGcgaWQ9IkFydGJvYXJkLTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NjcuMDAwMDAwLCAtMTkxLjAwMDAwMCkiPjxnIGlkPSJzbGljZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE1LjAwMDAwMCwgMTE5LjAwMDAwMCkiLz48cGF0aCAgICAgICBkPSJNNDY4LDIwMi41IEM0NjgsMTk2LjE0ODcyNSA0NzMuMTQ4NzI1LDE5MSA0NzkuNSwxOTEgQzQ4NS44NTEyNzUsMTkxIDQ5MSwxOTYuMTQ4NzI1IDQ5MSwyMDIuNSBDNDkxLDIwOC44NTEyNzUgNDg1Ljg1MTI3NSwyMTQgNDc5LjUsMjE0IEM0NzMuMTQ4NzI1LDIxNCA0NjgsMjA4Ljg1MTI3NSA0NjgsMjAyLjUgWiBNNDgwLjY1Njg1NCwxOTYuODQzMTQ2IEw0ODIuMDcxMDY4LDE5OC4yNTczNTkgTDQ3Ny44Mjg0MjcsMjAyLjUgTDQ4Mi4wNzEwNjgsMjA2Ljc0MjY0MSBMNDgwLjY1Njg1NCwyMDguMTU2ODU0IEw0NzUsMjAyLjUgTDQ4MC42NTY4NTQsMTk2Ljg0MzE0NiBaIiAgICAgICBmaWxsPSIjYWFhIiAgICAgICBpZD0iY2lyY2xlLW5leHQtYXJyb3ctZGlzY2xvc3VyZS1nbHlwaCIgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc5LjUwMDAwMCwgMjAyLjUwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNDc5LjUwMDAwMCwgLTIwMi41MDAwMDApICIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\n         [hidden]=\"!rightArrowVisible\" (click)=\"navigate(1, false)\"/>\n\n    <div class=\"buttonContainer\">\n        <img class=\"action close\"\n             src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwcHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiBmaWxsPSIjYWFhIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjI0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgPHBhdGggICAgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlPSIjNDQ0IiAgICBkPSJNNDM3LjUsMzg2LjZMMzA2LjksMjU2bDEzMC42LTEzMC42YzE0LjEtMTQuMSwxNC4xLTM2LjgsMC01MC45Yy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMEwyNTYsMjA1LjFMMTI1LjQsNzQuNSAgYy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMGMtMTQuMSwxNC4xLTE0LjEsMzYuOCwwLDUwLjlMMjA1LjEsMjU2TDc0LjUsMzg2LjZjLTE0LjEsMTQuMS0xNC4xLDM2LjgsMCw1MC45ICBjMTQuMSwxNC4xLDM2LjgsMTQuMSw1MC45LDBMMjU2LDMwNi45bDEzMC42LDEzMC42YzE0LjEsMTQuMSwzNi44LDE0LjEsNTAuOSwwQzQ1MS41LDQyMy40LDQ1MS41LDQwMC42LDQzNy41LDM4Ni42eiIvPjwvc3ZnPg==\"\n             (click)=\"closeViewer()\"/>\n    </div>\n\n    <div class=\"imageContainer\"\n         (click)=\"showNavigationArrows()\"\n         (swipeleft)=\"navigate(1, $event)\"\n         (swiperight)=\"navigate(-1, $event)\"\n         (pan)=\"pan($event)\">\n\n        <div *ngFor='let img of images; let j = index'\n             class=\"image\"\n             [class.active]=\"img['active']\"\n             [style.background-image]=\"img['viewerImageLoaded'] ? 'url('+img[categorySelected]['path']+')' : math.abs(currentIdx-j) <=1 ? 'url('+img['preview_xxs']['path']+')' : ''\"\n             [style.left]=\"transform+'px'\"\n             [@imageTransition]=\"img['transition']\"></div>\n\n        <img *ngFor='let img of images; let j = index'\n             class=\"preloading-image\"\n             (load)=\"imageLoaded(img)\"\n             src=\"{{ math.abs(currentIdx-j) <=1 ? img[categorySelected]['path'] : ''}}\"/>\n    </div>\n</div>\n\n",
                    styles: [".outerContainer{top:0;bottom:0;left:0;right:0;height:100%;width:100%;position:fixed;background-color:rgba(0,0,0,.95);font-family:sans-serif;z-index:1031}.imageContainer{position:absolute;float:none;top:0;bottom:0;left:0;right:0}.imageContainer .image,.imageContainer .preloading-image{visibility:hidden}.imageContainer .image.active{position:absolute;visibility:visible;background-repeat:no-repeat;background-size:contain;background-position:center;margin:auto;left:0;right:0;top:0;bottom:0;height:100%;width:100%;opacity:1}.arrow{opacity:0}.arrow:hover{cursor:pointer}.outerContainer:hover .arrow.activeArrow{height:calc(20px + 1.5vw);position:absolute;top:calc(50% - (20px + 1.5vw)/ 2);bottom:50%;z-index:1;opacity:1;transition:all ease-out .5s}.arrow.left{left:2vw}.arrow.right{right:2vw}.arrow:not(.activeArrow):hover{opacity:0;cursor:pointer;transition:all ease-out .5s}.buttonContainer{position:absolute;top:20px;right:20px;height:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}.buttonContainer .action{height:100%;cursor:pointer;vertical-align:top}.buttonContainer .action:focus{outline:0}.buttonContainer .action:hover{background-color:#222;transition:all ease-out .3s}.buttonContainer .action.close{width:26px;height:26px}md-button-toggle.checked{background-color:#a0a0a0}.menuButton{position:absolute;bottom:20px;right:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:local('Material Icons'),local('MaterialIcons-Regular'),url(https://fonts.gstatic.com/s/materialicons/v19/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format('woff2')}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}"],
                    host: {
                        '(document:keydown)': 'onKeydown($event)'
                    },
                    animations: [
                        trigger('imageTransition', [
                            state('enterFromRight', style({
                                opacity: 1,
                                transform: 'translate(0px, 0px)'
                            })),
                            state('enterFromLeft', style({
                                opacity: 1,
                                transform: 'translate(0px, 0px)'
                            })),
                            state('leaveToLeft', style({
                                opacity: 0,
                                transform: 'translate(-100px, 0px)'
                            })),
                            state('leaveToRight', style({
                                opacity: 0,
                                transform: 'translate(100px, 0px)'
                            })),
                            transition('* => enterFromRight', [
                                style({
                                    opacity: 0,
                                    transform: 'translate(30px, 0px)'
                                }),
                                animate('250ms 500ms ease-in')
                            ]),
                            transition('* => enterFromLeft', [
                                style({
                                    opacity: 0,
                                    transform: 'translate(-30px, 0px)'
                                }),
                                animate('250ms 500ms ease-in')
                            ]),
                            transition('* => leaveToLeft', [
                                style({
                                    opacity: 1
                                }),
                                animate('250ms ease-out')
                            ]),
                            transition('* => leaveToRight', [
                                style({
                                    opacity: 1
                                }),
                                animate('250ms ease-out')
                            ])
                        ]),
                        trigger('showViewerTransition', [
                            state('true', style({
                                opacity: 1
                            })),
                            state('void', style({
                                opacity: 0
                            })),
                            transition('void => *', [
                                style({
                                    opacity: 0
                                }),
                                animate('1000ms ease-in')
                            ]),
                            transition('* => void', [
                                style({
                                    opacity: 1
                                }),
                                animate('500ms ease-out')
                            ])
                        ])
                    ]
                },] },
    ];
    /** @nocollapse */
    ViewerComponent.ctorParameters = function () { return [
        { type: ImageService }
    ]; };
    return ViewerComponent;
}());
export { ViewerComponent };
function ViewerComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    ViewerComponent.prototype.showViewer;
    /** @type {?} */
    ViewerComponent.prototype.images;
    /** @type {?} */
    ViewerComponent.prototype.currentIdx;
    /** @type {?} */
    ViewerComponent.prototype.leftArrowVisible;
    /** @type {?} */
    ViewerComponent.prototype.rightArrowVisible;
    /** @type {?} */
    ViewerComponent.prototype.categorySelected;
    /** @type {?} */
    ViewerComponent.prototype.transform;
    /** @type {?} */
    ViewerComponent.prototype.math;
    /** @type {?} */
    ViewerComponent.prototype.qualitySelectorShown;
    /** @type {?} */
    ViewerComponent.prototype.qualitySelected;
    /** @type {?} */
    ViewerComponent.prototype.imageService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXIyLWltYWdlLWdhbGxlcnkvIiwic291cmNlcyI6WyJsaWIvdmlld2VyL3ZpZXdlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQTtBQUN4RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFBO0FBQ3pDLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUE7O0lBNkg1RSx5QkFBb0IsWUFBMEI7UUFBOUMsaUJBa0JDO1FBbEJtQixpQkFBWSxHQUFaLFlBQVksQ0FBYztzQkFWekIsQ0FBQyxFQUFFLENBQUM7MEJBQ0osQ0FBQztnQ0FDTSxJQUFJO2lDQUNILElBQUk7Z0NBQ04sYUFBYTtvQ0FHQSxLQUFLOytCQUNYLE1BQU07UUFHcEMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQ2pDLFVBQUEsTUFBTTtZQUNGLEtBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1NBQ3ZCLENBQUMsQ0FBQTtRQUNOLFlBQVksQ0FBQywwQkFBMEIsQ0FBQyxTQUFTLENBQzdDLFVBQUEsUUFBUTtZQUNKLEtBQUksQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFBO1lBQzFCLEtBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEtBQUssRUFBdkIsQ0FBdUIsQ0FBQyxDQUFBO1lBQ3JELEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQTtZQUM3QyxLQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQTtZQUNsQixLQUFJLENBQUMsYUFBYSxFQUFF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NkJBQUMsQ0FDN0I7NEJBQ0QsVUFBVSxDQUFDLFdBQVcsRUFBRTtnQ0FDcEIsS0FBSyxDQUFDO29DQUNGLE9BQU8sRUFBRSxDQUFDO2lDQUNiLENBQUM7Z0NBQ0YsT0FBTyxDQUFDLGdCQUFnQixDQUFDOzZCQUFDLENBQzdCO3lCQUNKLENBQUM7cUJBQ0w7aUJBQ0o7Ozs7Z0JBakhRLFlBQVk7OzBCQUFyQjs7U0FtSGEsZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEltYWdlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2ltYWdlLnNlcnZpY2UnXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuaW1wb3J0IHsgYW5pbWF0ZSwgc3RhdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCB0cmlnZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucydcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2aWV3ZXInLFxuICAgIHRlbXBsYXRlOiBgPGRpdiBjbGFzcz1cIm91dGVyQ29udGFpbmVyXCIgKHdpbmRvdzpyZXNpemUpPVwib25SZXNpemUoKVwiICpuZ0lmPVwic2hvd1ZpZXdlclwiIFtAc2hvd1ZpZXdlclRyYW5zaXRpb25dPVwic2hvd1ZpZXdlclwiPlxuXG5cbiAgICA8aW1nIFtuZ0NsYXNzXT1cInsnYWN0aXZlQXJyb3cnOiBsZWZ0QXJyb3dBY3RpdmV9XCIgY2xhc3M9XCJhcnJvdyBsZWZ0XCJcbiAgICAgICAgIHNyYz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5Qm9aV2xuYUhROUlqSTBjSGdpSUhabGNuTnBiMjQ5SWpFdU1TSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJaUIzYVdSMGFEMGlNalJ3ZUNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenB6YTJWMFkyZzlJbWgwZEhBNkx5OTNkM2N1WW05b1pXMXBZVzVqYjJScGJtY3VZMjl0TDNOclpYUmphQzl1Y3lJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGp4MGFYUnNaUzgrUEdSbGMyTXZQaUFnSUR4bklHWnBiR3c5SW01dmJtVWlJR1pwYkd3dGNuVnNaVDBpWlhabGJtOWtaQ0lnYVdROUltMXBkU0lnYzNSeWIydGxQU0lqTlRVMUlpQnpkSEp2YTJVdGQybGtkR2c5SWpBdU1pSStJQ0FnSUNBOFp5QnBaRDBpUVhKMFltOWhjbVF0TVNJZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9MVE01TlM0d01EQXdNREFzSUMweE9URXVNREF3TURBd0tTSStQR2NnYVdROUluTnNhV05sSWlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3lNVFV1TURBd01EQXdMQ0F4TVRrdU1EQXdNREF3S1NJdlBqeHdZWFJvSUNBZ0lDQWdJR1E5SWswek9UWXNNakF5TGpVZ1F6TTVOaXd4T1RZdU1UUTROekkxSURRd01TNHhORGczTWpVc01Ua3hJRFF3Tnk0MUxERTVNU0JETkRFekxqZzFNVEkzTlN3eE9URWdOREU1TERFNU5pNHhORGczTWpVZ05ERTVMREl3TWk0MUlFTTBNVGtzTWpBNExqZzFNVEkzTlNBME1UTXVPRFV4TWpjMUxESXhOQ0EwTURjdU5Td3lNVFFnUXpRd01TNHhORGczTWpVc01qRTBJRE01Tml3eU1EZ3VPRFV4TWpjMUlETTVOaXd5TURJdU5TQmFJRTAwTURndU5qVTJPRFUwTERFNU5pNDRORE14TkRZZ1REUXhNQzR3TnpFd05qZ3NNVGs0TGpJMU56TTFPU0JNTkRBMUxqZ3lPRFF5Tnl3eU1ESXVOU0JNTkRFd0xqQTNNVEEyT0N3eU1EWXVOelF5TmpReElFdzBNRGd1TmpVMk9EVTBMREl3T0M0eE5UWTROVFFnVERRd015d3lNREl1TlNCTU5EQTRMalkxTmpnMU5Dd3hPVFl1T0RRek1UUTJJRm9pSUNBZ0lDQWdJR1pwYkd3OUlpTmhZV0VpSUNBZ0lDQWdJR2xrUFNKamFYSmpiR1V0WW1GamF5MWhjbkp2ZHkxbmJIbHdhQ0l2UGp3dlp6NGdJQ0E4TDJjK0lEd3ZjM1puUGc9PVwiXG4gICAgICAgICBbaGlkZGVuXT1cIiFsZWZ0QXJyb3dWaXNpYmxlXCIgKGNsaWNrKT1cIm5hdmlnYXRlKC0xLCBmYWxzZSlcIi8+XG4gICAgPGltZyBbbmdDbGFzc109XCJ7J2FjdGl2ZUFycm93JzogcmlnaHRBcnJvd0FjdGl2ZX1cIiBjbGFzcz1cImFycm93IHJpZ2h0XCJcbiAgICAgICAgIHNyYz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5Qm9aV2xuYUhROUlqSTBjSGdpSUhabGNuTnBiMjQ5SWpFdU1TSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJaUIzYVdSMGFEMGlNalJ3ZUNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenB6YTJWMFkyZzlJbWgwZEhBNkx5OTNkM2N1WW05b1pXMXBZVzVqYjJScGJtY3VZMjl0TDNOclpYUmphQzl1Y3lJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGp4MGFYUnNaUzgrUEdSbGMyTXZQanhrWldaekx6NGdJQ0E4WnlCbWFXeHNQU0p1YjI1bElpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlJR2xrUFNKdGFYVWlJSE4wY205clpUMGlJelUxTlNJZ2MzUnliMnRsTFhkcFpIUm9QU0l3TGpJaVBpQWdJQ0FnUEdjZ2FXUTlJa0Z5ZEdKdllYSmtMVEVpSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMDBOamN1TURBd01EQXdMQ0F0TVRreExqQXdNREF3TUNraVBqeG5JR2xrUFNKemJHbGpaU0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb01qRTFMakF3TURBd01Dd2dNVEU1TGpBd01EQXdNQ2tpTHo0OGNHRjBhQ0FnSUNBZ0lDQmtQU0pOTkRZNExESXdNaTQxSUVNME5qZ3NNVGsyTGpFME9EY3lOU0EwTnpNdU1UUTROekkxTERFNU1TQTBOemt1TlN3eE9URWdRelE0TlM0NE5URXlOelVzTVRreElEUTVNU3d4T1RZdU1UUTROekkxSURRNU1Td3lNREl1TlNCRE5Ea3hMREl3T0M0NE5URXlOelVnTkRnMUxqZzFNVEkzTlN3eU1UUWdORGM1TGpVc01qRTBJRU0wTnpNdU1UUTROekkxTERJeE5DQTBOamdzTWpBNExqZzFNVEkzTlNBME5qZ3NNakF5TGpVZ1dpQk5ORGd3TGpZMU5qZzFOQ3d4T1RZdU9EUXpNVFEySUV3ME9ESXVNRGN4TURZNExERTVPQzR5TlRjek5Ua2dURFEzTnk0NE1qZzBNamNzTWpBeUxqVWdURFE0TWk0d056RXdOamdzTWpBMkxqYzBNalkwTVNCTU5EZ3dMalkxTmpnMU5Dd3lNRGd1TVRVMk9EVTBJRXcwTnpVc01qQXlMalVnVERRNE1DNDJOVFk0TlRRc01UazJMamcwTXpFME5pQmFJaUFnSUNBZ0lDQm1hV3hzUFNJallXRmhJaUFnSUNBZ0lDQnBaRDBpWTJseVkyeGxMVzVsZUhRdFlYSnliM2N0WkdselkyeHZjM1Z5WlMxbmJIbHdhQ0lnSUNBZ0lDQWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTkRjNUxqVXdNREF3TUN3Z01qQXlMalV3TURBd01Da2djMk5oYkdVb0xURXNJREVwSUhSeVlXNXpiR0YwWlNndE5EYzVMalV3TURBd01Dd2dMVEl3TWk0MU1EQXdNREFwSUNJdlBqd3ZaejRnSUNBOEwyYytJRHd2YzNablBnPT1cIlxuICAgICAgICAgW2hpZGRlbl09XCIhcmlnaHRBcnJvd1Zpc2libGVcIiAoY2xpY2spPVwibmF2aWdhdGUoMSwgZmFsc2UpXCIvPlxuXG4gICAgPGRpdiBjbGFzcz1cImJ1dHRvbkNvbnRhaW5lclwiPlxuICAgICAgICA8aW1nIGNsYXNzPVwiYWN0aW9uIGNsb3NlXCJcbiAgICAgICAgICAgICBzcmM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJvWldsbmFIUTlJak13Y0hnaUlHbGtQU0pNWVhsbGNsOHhJaUJ6ZEhsc1pUMGlaVzVoWW14bExXSmhZMnRuY205MWJtUTZibVYzSURBZ01DQTFNVElnTlRFeU95SWdkbVZ5YzJsdmJqMGlNUzR4SWlCbWFXeHNQU0lqWVdGaElpQjJhV1YzUW05NFBTSXdJREFnTlRFeUlEVXhNaUlnZDJsa2RHZzlJakkwY0hnaUlIaHRiRHB6Y0dGalpUMGljSEpsYzJWeWRtVWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaVBpQWdQSEJoZEdnZ0lDQWdjM1J5YjJ0bExYZHBaSFJvUFNJek1DSWdjM1J5YjJ0bFBTSWpORFEwSWlBZ0lDQmtQU0pOTkRNM0xqVXNNemcyTGpaTU16QTJMamtzTWpVMmJERXpNQzQyTFRFek1DNDJZekUwTGpFdE1UUXVNU3d4TkM0eExUTTJMamdzTUMwMU1DNDVZeTB4TkM0eExURTBMakV0TXpZdU9DMHhOQzR4TFRVd0xqa3NNRXd5TlRZc01qQTFMakZNTVRJMUxqUXNOelF1TlNBZ1l5MHhOQzR4TFRFMExqRXRNell1T0MweE5DNHhMVFV3TGprc01HTXRNVFF1TVN3eE5DNHhMVEUwTGpFc016WXVPQ3d3TERVd0xqbE1NakExTGpFc01qVTJURGMwTGpVc016ZzJMalpqTFRFMExqRXNNVFF1TVMweE5DNHhMRE0yTGpnc01DdzFNQzQ1SUNCak1UUXVNU3d4TkM0eExETTJMamdzTVRRdU1TdzFNQzQ1TERCTU1qVTJMRE13Tmk0NWJERXpNQzQyTERFek1DNDJZekUwTGpFc01UUXVNU3d6Tmk0NExERTBMakVzTlRBdU9Td3dRelExTVM0MUxEUXlNeTQwTERRMU1TNDFMRFF3TUM0MkxEUXpOeTQxTERNNE5pNDJlaUl2UGp3dmMzWm5QZz09XCJcbiAgICAgICAgICAgICAoY2xpY2spPVwiY2xvc2VWaWV3ZXIoKVwiLz5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJpbWFnZUNvbnRhaW5lclwiXG4gICAgICAgICAoY2xpY2spPVwic2hvd05hdmlnYXRpb25BcnJvd3MoKVwiXG4gICAgICAgICAoc3dpcGVsZWZ0KT1cIm5hdmlnYXRlKDEsICRldmVudClcIlxuICAgICAgICAgKHN3aXBlcmlnaHQpPVwibmF2aWdhdGUoLTEsICRldmVudClcIlxuICAgICAgICAgKHBhbik9XCJwYW4oJGV2ZW50KVwiPlxuXG4gICAgICAgIDxkaXYgKm5nRm9yPSdsZXQgaW1nIG9mIGltYWdlczsgbGV0IGogPSBpbmRleCdcbiAgICAgICAgICAgICBjbGFzcz1cImltYWdlXCJcbiAgICAgICAgICAgICBbY2xhc3MuYWN0aXZlXT1cImltZ1snYWN0aXZlJ11cIlxuICAgICAgICAgICAgIFtzdHlsZS5iYWNrZ3JvdW5kLWltYWdlXT1cImltZ1sndmlld2VySW1hZ2VMb2FkZWQnXSA/ICd1cmwoJytpbWdbY2F0ZWdvcnlTZWxlY3RlZF1bJ3BhdGgnXSsnKScgOiBtYXRoLmFicyhjdXJyZW50SWR4LWopIDw9MSA/ICd1cmwoJytpbWdbJ3ByZXZpZXdfeHhzJ11bJ3BhdGgnXSsnKScgOiAnJ1wiXG4gICAgICAgICAgICAgW3N0eWxlLmxlZnRdPVwidHJhbnNmb3JtKydweCdcIlxuICAgICAgICAgICAgIFtAaW1hZ2VUcmFuc2l0aW9uXT1cImltZ1sndHJhbnNpdGlvbiddXCI+PC9kaXY+XG5cbiAgICAgICAgPGltZyAqbmdGb3I9J2xldCBpbWcgb2YgaW1hZ2VzOyBsZXQgaiA9IGluZGV4J1xuICAgICAgICAgICAgIGNsYXNzPVwicHJlbG9hZGluZy1pbWFnZVwiXG4gICAgICAgICAgICAgKGxvYWQpPVwiaW1hZ2VMb2FkZWQoaW1nKVwiXG4gICAgICAgICAgICAgc3JjPVwie3sgbWF0aC5hYnMoY3VycmVudElkeC1qKSA8PTEgPyBpbWdbY2F0ZWdvcnlTZWxlY3RlZF1bJ3BhdGgnXSA6ICcnfX1cIi8+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuYCxcbiAgICBzdHlsZXM6IFtgLm91dGVyQ29udGFpbmVye3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7cG9zaXRpb246Zml4ZWQ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC45NSk7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjt6LWluZGV4OjEwMzF9LmltYWdlQ29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO2Zsb2F0Om5vbmU7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjB9LmltYWdlQ29udGFpbmVyIC5pbWFnZSwuaW1hZ2VDb250YWluZXIgLnByZWxvYWRpbmctaW1hZ2V7dmlzaWJpbGl0eTpoaWRkZW59LmltYWdlQ29udGFpbmVyIC5pbWFnZS5hY3RpdmV7cG9zaXRpb246YWJzb2x1dGU7dmlzaWJpbGl0eTp2aXNpYmxlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlcjttYXJnaW46YXV0bztsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO29wYWNpdHk6MX0uYXJyb3d7b3BhY2l0eTowfS5hcnJvdzpob3ZlcntjdXJzb3I6cG9pbnRlcn0ub3V0ZXJDb250YWluZXI6aG92ZXIgLmFycm93LmFjdGl2ZUFycm93e2hlaWdodDpjYWxjKDIwcHggKyAxLjV2dyk7cG9zaXRpb246YWJzb2x1dGU7dG9wOmNhbGMoNTAlIC0gKDIwcHggKyAxLjV2dykvIDIpO2JvdHRvbTo1MCU7ei1pbmRleDoxO29wYWNpdHk6MTt0cmFuc2l0aW9uOmFsbCBlYXNlLW91dCAuNXN9LmFycm93LmxlZnR7bGVmdDoydnd9LmFycm93LnJpZ2h0e3JpZ2h0OjJ2d30uYXJyb3c6bm90KC5hY3RpdmVBcnJvdyk6aG92ZXJ7b3BhY2l0eTowO2N1cnNvcjpwb2ludGVyO3RyYW5zaXRpb246YWxsIGVhc2Utb3V0IC41c30uYnV0dG9uQ29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyMHB4O3JpZ2h0OjIwcHg7aGVpZ2h0OjIwcHg7dGV4dC1hbGlnbjpjZW50ZXI7b3BhY2l0eToxO3otaW5kZXg6MjAwO3RyYW5zaXRpb246YWxsIGVhc2Utb3V0IC41c30uYnV0dG9uQ29udGFpbmVyIC5hY3Rpb257aGVpZ2h0OjEwMCU7Y3Vyc29yOnBvaW50ZXI7dmVydGljYWwtYWxpZ246dG9wfS5idXR0b25Db250YWluZXIgLmFjdGlvbjpmb2N1c3tvdXRsaW5lOjB9LmJ1dHRvbkNvbnRhaW5lciAuYWN0aW9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzIyMjt0cmFuc2l0aW9uOmFsbCBlYXNlLW91dCAuM3N9LmJ1dHRvbkNvbnRhaW5lciAuYWN0aW9uLmNsb3Nle3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHh9bWQtYnV0dG9uLXRvZ2dsZS5jaGVja2Vke2JhY2tncm91bmQtY29sb3I6I2EwYTBhMH0ubWVudUJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MjBweDtyaWdodDoyMHB4O3RleHQtYWxpZ246Y2VudGVyO29wYWNpdHk6MTt6LWluZGV4OjIwMDt0cmFuc2l0aW9uOmFsbCBlYXNlLW91dCAuNXN9QGZvbnQtZmFjZXtmb250LWZhbWlseTonTWF0ZXJpYWwgSWNvbnMnO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjQwMDtzcmM6bG9jYWwoJ01hdGVyaWFsIEljb25zJyksbG9jYWwoJ01hdGVyaWFsSWNvbnMtUmVndWxhcicpLHVybChodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tL3MvbWF0ZXJpYWxpY29ucy92MTkvMmZjcllGTmFUamNTNmc0VTN0LVk1WmpaalQ1RmRFSjE0MFUyREpZQzNtWS53b2ZmMikgZm9ybWF0KCd3b2ZmMicpfS5tYXRlcmlhbC1pY29uc3tmb250LWZhbWlseTonTWF0ZXJpYWwgSWNvbnMnO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXNpemU6MjRweDtsaW5lLWhlaWdodDoxO2xldHRlci1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3doaXRlLXNwYWNlOm5vd3JhcDt3b3JkLXdyYXA6bm9ybWFsO2RpcmVjdGlvbjpsdHI7LXdlYmtpdC1mb250LWZlYXR1cmUtc2V0dGluZ3M6J2xpZ2EnOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWR9YF0sXG4gICAgaG9zdDoge1xuICAgICAgICAnKGRvY3VtZW50OmtleWRvd24pJzogJ29uS2V5ZG93bigkZXZlbnQpJ1xuICAgIH0sXG4gICAgYW5pbWF0aW9uczogW1xuICAgICAgICB0cmlnZ2VyKCdpbWFnZVRyYW5zaXRpb24nLCBbXG4gICAgICAgICAgICBzdGF0ZSgnZW50ZXJGcm9tUmlnaHQnLCBzdHlsZSh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMHB4LCAwcHgpJ1xuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgc3RhdGUoJ2VudGVyRnJvbUxlZnQnLCBzdHlsZSh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMHB4LCAwcHgpJ1xuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgc3RhdGUoJ2xlYXZlVG9MZWZ0Jywgc3R5bGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0xMDBweCwgMHB4KSdcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIHN0YXRlKCdsZWF2ZVRvUmlnaHQnLCBzdHlsZSh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMTAwcHgsIDBweCknXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCcqID0+IGVudGVyRnJvbVJpZ2h0JywgW1xuICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDMwcHgsIDBweCknXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnMjUwbXMgNTAwbXMgZWFzZS1pbicpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJyogPT4gZW50ZXJGcm9tTGVmdCcsIFtcbiAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMzBweCwgMHB4KSdcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcyNTBtcyA1MDBtcyBlYXNlLWluJylcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgdHJhbnNpdGlvbignKiA9PiBsZWF2ZVRvTGVmdCcsIFtcbiAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcyNTBtcyBlYXNlLW91dCcpXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJyogPT4gbGVhdmVUb1JpZ2h0JywgW1xuICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGFuaW1hdGUoJzI1MG1zIGVhc2Utb3V0JyldXG4gICAgICAgICAgICApXG4gICAgICAgIF0pLFxuICAgICAgICB0cmlnZ2VyKCdzaG93Vmlld2VyVHJhbnNpdGlvbicsIFtcbiAgICAgICAgICAgIHN0YXRlKCd0cnVlJywgc3R5bGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIHN0YXRlKCd2b2lkJywgc3R5bGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJ3ZvaWQgPT4gKicsIFtcbiAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcxMDAwbXMgZWFzZS1pbicpXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJyogPT4gdm9pZCcsIFtcbiAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhbmltYXRlKCc1MDBtcyBlYXNlLW91dCcpXVxuICAgICAgICAgICAgKVxuICAgICAgICBdKVxuICAgIF1cbn0pXG5cbmV4cG9ydCBjbGFzcyBWaWV3ZXJDb21wb25lbnQge1xuICAgIHNob3dWaWV3ZXI6IGJvb2xlYW5cbiAgICBpbWFnZXM6IEFycmF5PGFueT4gPSBbe31dXG4gICAgY3VycmVudElkeDogbnVtYmVyID0gMFxuICAgIGxlZnRBcnJvd1Zpc2libGU6IGJvb2xlYW4gPSB0cnVlXG4gICAgcmlnaHRBcnJvd1Zpc2libGU6IGJvb2xlYW4gPSB0cnVlXG4gICAgY2F0ZWdvcnlTZWxlY3RlZDogc3RyaW5nID0gJ3ByZXZpZXdfeHhzJ1xuICAgIHRyYW5zZm9ybTogbnVtYmVyXG4gICAgbWF0aDogTWF0aFxuICAgIHByaXZhdGUgcXVhbGl0eVNlbGVjdG9yU2hvd246IGJvb2xlYW4gPSBmYWxzZVxuICAgIHByaXZhdGUgcXVhbGl0eVNlbGVjdGVkOiBzdHJpbmcgPSAnYXV0bydcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaW1hZ2VTZXJ2aWNlOiBJbWFnZVNlcnZpY2UpIHtcbiAgICAgICAgaW1hZ2VTZXJ2aWNlLmltYWdlc1VwZGF0ZWQkLnN1YnNjcmliZShcbiAgICAgICAgICAgIGltYWdlcyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXMgPSBpbWFnZXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgIGltYWdlU2VydmljZS5pbWFnZVNlbGVjdGVkSW5kZXhVcGRhdGVkJC5zdWJzY3JpYmUoXG4gICAgICAgICAgICBuZXdJbmRleCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SWR4ID0gbmV3SW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlWydhY3RpdmUnXSA9IGZhbHNlKVxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ2FjdGl2ZSddID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gMFxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUXVhbGl0eSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICBpbWFnZVNlcnZpY2Uuc2hvd0ltYWdlVmlld2VyQ2hhbmdlZCQuc3Vic2NyaWJlKFxuICAgICAgICAgICAgc2hvd1ZpZXdlciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Vmlld2VyID0gc2hvd1ZpZXdlclxuICAgICAgICAgICAgfSlcbiAgICAgICAgdGhpcy5tYXRoID0gTWF0aFxuICAgIH1cblxuICAgIGdldCBsZWZ0QXJyb3dBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJZHggPiAwXG4gICAgfVxuXG4gICAgZ2V0IHJpZ2h0QXJyb3dBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJZHggPCB0aGlzLmltYWdlcy5sZW5ndGggLSAxXG4gICAgfVxuXG4gICAgcGFuKHN3aXBlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBzd2lwZS5kZWx0YVhcbiAgICB9XG5cbiAgICBvblJlc2l6ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbWFnZXMuZm9yRWFjaChpbWFnZSA9PiB7XG4gICAgICAgICAgICBpbWFnZVsndmlld2VySW1hZ2VMb2FkZWQnXSA9IGZhbHNlXG4gICAgICAgICAgICBpbWFnZVsnYWN0aXZlJ10gPSBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnVwZGF0ZUltYWdlKClcbiAgICB9XG5cbiAgICBzaG93UXVhbGl0eVNlbGVjdG9yKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnF1YWxpdHlTZWxlY3RvclNob3duID0gIXRoaXMucXVhbGl0eVNlbGVjdG9yU2hvd25cbiAgICB9XG5cbiAgICBxdWFsaXR5Q2hhbmdlZChuZXdRdWFsaXR5OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5xdWFsaXR5U2VsZWN0ZWQgPSBuZXdRdWFsaXR5XG4gICAgICAgIHRoaXMudXBkYXRlSW1hZ2UoKVxuICAgIH1cblxuICAgIGltYWdlTG9hZGVkKGltYWdlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaW1hZ2VbJ3ZpZXdlckltYWdlTG9hZGVkJ10gPSB0cnVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGlyZWN0aW9uICgtMTogbGVmdCwgMTogcmlnaHQpXG4gICAgICogc3dpcGUgKHVzZXIgc3dpcGVkKVxuICAgICAqL1xuICAgIG5hdmlnYXRlKGRpcmVjdGlvbjogbnVtYmVyLCBzd2lwZTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICgoZGlyZWN0aW9uID09PSAxICYmIHRoaXMuY3VycmVudElkeCA8IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDEpIHx8XG4gICAgICAgICAgICAoZGlyZWN0aW9uID09PSAtMSAmJiB0aGlzLmN1cnJlbnRJZHggPiAwKSkge1xuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsndHJhbnNpdGlvbiddID0gJ2xlYXZlVG9SaWdodCdcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHggLSAxXVsndHJhbnNpdGlvbiddID0gJ2VudGVyRnJvbUxlZnQnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3RyYW5zaXRpb24nXSA9ICdsZWF2ZVRvTGVmdCdcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHggKyAxXVsndHJhbnNpdGlvbiddID0gJ2VudGVyRnJvbVJpZ2h0J1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SWR4ICs9IGRpcmVjdGlvblxuXG4gICAgICAgICAgICBpZiAoc3dpcGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVOYXZpZ2F0aW9uQXJyb3dzKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TmF2aWdhdGlvbkFycm93cygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUltYWdlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dOYXZpZ2F0aW9uQXJyb3dzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxlZnRBcnJvd1Zpc2libGUgPSB0cnVlXG4gICAgICAgIHRoaXMucmlnaHRBcnJvd1Zpc2libGUgPSB0cnVlXG4gICAgfVxuXG4gICAgY2xvc2VWaWV3ZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4gaW1hZ2VbJ3RyYW5zaXRpb24nXSA9IHVuZGVmaW5lZClcbiAgICAgICAgdGhpcy5pbWFnZXMuZm9yRWFjaChpbWFnZSA9PiBpbWFnZVsnYWN0aXZlJ10gPSBmYWxzZSlcbiAgICAgICAgdGhpcy5pbWFnZVNlcnZpY2Uuc2hvd0ltYWdlVmlld2VyKGZhbHNlKVxuICAgIH1cblxuICAgIG9uS2V5ZG93bihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwcmV2ZW50ID0gWzM3LCAzOSwgMjcsIDM2LCAzNV1cbiAgICAgICAgICAgIC5maW5kKG5vID0+IG5vID09PSBldmVudC5rZXlDb2RlKVxuICAgICAgICBpZiAocHJldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChwcmV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgIC8vIG5hdmlnYXRlIGxlZnRcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlKC0xLCBmYWxzZSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0ZSByaWdodFxuICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGUoMSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgLy8gZXNjXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVZpZXdlcigpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgMzY6XG4gICAgICAgICAgICAgICAgLy8gcG9zIDFcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnbGVhdmVUb1JpZ2h0J1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudElkeCA9IDBcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnZW50ZXJGcm9tTGVmdCdcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUltYWdlKClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAzNTpcbiAgICAgICAgICAgICAgICAvLyBlbmRcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnbGVhdmVUb0xlZnQnXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SWR4ID0gdGhpcy5pbWFnZXMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3RyYW5zaXRpb24nXSA9ICdlbnRlckZyb21SaWdodCdcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUltYWdlKClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaWRlTmF2aWdhdGlvbkFycm93cygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sZWZ0QXJyb3dWaXNpYmxlID0gZmFsc2VcbiAgICAgICAgdGhpcy5yaWdodEFycm93VmlzaWJsZSA9IGZhbHNlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVJbWFnZSgpOiB2b2lkIHtcbiAgICAgICAgLy8gd2FpdCBmb3IgYW5pbWF0aW9uIHRvIGVuZFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUXVhbGl0eSgpXG4gICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydhY3RpdmUnXSA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZSAhPSB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlWydhY3RpdmUnXSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDUwMClcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVF1YWxpdHkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgY29uc3Qgc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLnF1YWxpdHlTZWxlY3RlZCkge1xuICAgICAgICAgICAgY2FzZSAnYXV0byc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld194eHMnXG5cbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuV2lkdGggPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X3h4cyddLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkhlaWdodCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfeHhzJ10uaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdwcmV2aWV3X3hzJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuV2lkdGggPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X3hzJ10ud2lkdGggJiZcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuSGVpZ2h0ID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld194cyddLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld19zJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuV2lkdGggPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X3MnXS53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICBzY3JlZW5IZWlnaHQgPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X3MnXS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfbSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld19tJ10ud2lkdGggJiZcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuSGVpZ2h0ID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld19tJ10uaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdwcmV2aWV3X2wnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5XaWR0aCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfbCddLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkhlaWdodCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfbCddLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld194bCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld194bCddLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkhlaWdodCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfeGwnXS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3JhdydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2xvdyc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld194eHMnXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ21pZCc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld19tJ1xuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdoaWdoJzoge1xuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdyYXcnXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfbSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==